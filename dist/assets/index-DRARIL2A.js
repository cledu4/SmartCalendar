function gy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sp={exports:{}},to={},ap={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),yy=Symbol.for("react.portal"),wy=Symbol.for("react.fragment"),_y=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),by=Symbol.for("react.provider"),Ey=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),Ty=Symbol.for("react.memo"),Oy=Symbol.for("react.lazy"),Ld=Symbol.iterator;function Cy(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,up={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||op}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cp(){}cp.prototype=Kr.prototype;function uc(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||op}var cc=uc.prototype=new cp;cc.constructor=uc;lp(cc,Kr.prototype);cc.isPureReactComponent=!0;var $d=Array.isArray,dp=Object.prototype.hasOwnProperty,dc={current:null},hp={key:!0,ref:!0,__self:!0,__source:!0};function fp(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)dp.call(t,r)&&!hp.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:cs,type:e,key:s,ref:a,props:i,_owner:dc.current}}function Ry(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function jy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ud=/\/+/g;function Qo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jy(""+e.key):t.toString(36)}function ia(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case cs:case yy:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Qo(a,0):r,$d(i)?(n="",e!=null&&(n=e.replace(Ud,"$&/")+"/"),ia(i,t,n,"",function(u){return u})):i!=null&&(hc(i)&&(i=Ry(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ud,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",$d(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+Qo(s,o);a+=ia(s,t,n,l,i)}else if(l=Cy(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+Qo(s,o++),a+=ia(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ps(e,t,n){if(e==null)return e;var r=[],i=0;return ia(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ny(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},sa={transition:null},Py={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:sa,ReactCurrentOwner:dc};function pp(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ps,forEach:function(e,t,n){Ps(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ps(e,function(){t++}),t},toArray:function(e){return Ps(e,function(t){return t})||[]},only:function(e){if(!hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Kr;z.Fragment=wy;z.Profiler=Sy;z.PureComponent=uc;z.StrictMode=_y;z.Suspense=xy;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py;z.act=pp;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lp({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=dc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)dp.call(t,l)&&!hp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:cs,type:e.type,key:i,ref:s,props:r,_owner:a}};z.createContext=function(e){return e={$$typeof:Ey,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:by,_context:e},e.Consumer=e};z.createElement=fp;z.createFactory=function(e){var t=fp.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:ky,render:e}};z.isValidElement=hc;z.lazy=function(e){return{$$typeof:Oy,_payload:{_status:-1,_result:e},_init:Ny}};z.memo=function(e,t){return{$$typeof:Ty,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=sa.transition;sa.transition={};try{e()}finally{sa.transition=t}};z.unstable_act=pp;z.useCallback=function(e,t){return Ue.current.useCallback(e,t)};z.useContext=function(e){return Ue.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};z.useEffect=function(e,t){return Ue.current.useEffect(e,t)};z.useId=function(){return Ue.current.useId()};z.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Ue.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};z.useRef=function(e){return Ue.current.useRef(e)};z.useState=function(e){return Ue.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Ue.current.useTransition()};z.version="18.3.1";ap.exports=z;var x=ap.exports;const I=eo(x),Ay=gy({__proto__:null,default:I},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy=x,Iy=Symbol.for("react.element"),Ly=Symbol.for("react.fragment"),$y=Object.prototype.hasOwnProperty,Uy=Dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,My={key:!0,ref:!0,__self:!0,__source:!0};function mp(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)$y.call(t,r)&&!My.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Iy,type:e,key:s,ref:a,props:i,_owner:Uy.current}}to.Fragment=Ly;to.jsx=mp;to.jsxs=mp;sp.exports=to;var p=sp.exports,Fl={},vp={exports:{}},rt={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var L=j.length;j.push($);e:for(;0<L;){var B=L-1>>>1,H=j[B];if(0<i(H,$))j[B]=$,j[L]=H,L=B;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],L=j.pop();if(L!==$){j[0]=L;e:for(var B=0,H=j.length,Fe=H>>>1;B<Fe;){var xe=2*(B+1)-1,Rt=j[xe],st=xe+1,jt=j[st];if(0>i(Rt,L))st<H&&0>i(jt,Rt)?(j[B]=jt,j[st]=L,B=st):(j[B]=Rt,j[xe]=L,B=xe);else if(st<H&&0>i(jt,L))j[B]=jt,j[st]=L,B=st;else break e}}return $}function i(j,$){var L=j.sortIndex-$.sortIndex;return L!==0?L:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,f=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function S(j){if(y=!1,w(j),!f)if(n(l)!==null)f=!0,K(T);else{var $=n(u);$!==null&&Ct(S,$.startTime-j)}}function T(j,$){f=!1,y&&(y=!1,g(C),C=-1),m=!0;var L=h;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||j&&!G());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var H=B(d.expirationTime<=$);$=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var Fe=!0;else{var xe=n(u);xe!==null&&Ct(S,xe.startTime-$),Fe=!1}return Fe}finally{d=null,h=L,m=!1}}var E=!1,b=null,C=-1,A=5,P=-1;function G(){return!(e.unstable_now()-P<A)}function ne(){if(b!==null){var j=e.unstable_now();P=j;var $=!0;try{$=b(!0,j)}finally{$?be():(E=!1,b=null)}}else E=!1}var be;if(typeof v=="function")be=function(){v(ne)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ot=pe.port2;pe.port1.onmessage=ne,be=function(){Ot.postMessage(null)}}else be=function(){_(ne,0)};function K(j){b=j,E||(E=!0,be())}function Ct(j,$){C=_(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){f||m||(f=!0,K(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return j()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=h;h=j;try{return $()}finally{h=L}},e.unstable_scheduleCallback=function(j,$,L){var B=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,j={id:c++,callback:$,priorityLevel:j,startTime:L,expirationTime:H,sortIndex:-1},L>B?(j.sortIndex=L,t(u,j),n(l)===null&&j===n(u)&&(y?(g(C),C=-1):y=!0,Ct(S,L-B))):(j.sortIndex=H,t(l,j),f||m||(f=!0,K(T))),j},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(j){var $=h;return function(){var L=h;h=$;try{return j.apply(this,arguments)}finally{h=L}}}})(yp);gp.exports=yp;var Fy=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=x,nt=Fy;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,Di={};function Qn(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Di[e]=t,e=0;e<t.length;e++)wp.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,zy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Md={},Fd={};function Wy(e){return Bl.call(Fd,e)?!0:Bl.call(Md,e)?!1:zy.test(e)?Fd[e]=!0:(Md[e]=!0,!1)}function Vy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hy(e,t,n,r){if(t===null||typeof t>"u"||Vy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var fc=/[\-:]([a-z])/g;function pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fc,pc);je[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fc,pc);je[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fc,pc);je[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function mc(e,t,n,r){var i=je.hasOwnProperty(t)?je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hy(t,n,i,r)&&(n=null),r||i===null?Wy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),pr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),vc=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Vl=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),bp=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Xo;function gi(e){if(Xo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Zo=!1;function el(e,t){if(!e||Zo)return"";Zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Zo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gi(e):""}function qy(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=el(e.type,!1),e;case 11:return e=el(e.type.render,!1),e;case 1:return e=el(e.type,!0),e;default:return""}}function Hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case pr:return"Portal";case zl:return"Profiler";case vc:return"StrictMode";case Wl:return"Suspense";case Vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case _p:return(e._context.displayName||"Context")+".Provider";case gc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return t=e.displayName||null,t!==null?t:Hl(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return Hl(e(t))}catch{}}return null}function Ky(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hl(t);case 8:return t===vc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e){var t=Ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=Gy(e))}function kp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ep(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ql(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xp(e,t){t=t.checked,t!=null&&mc(e,"checked",t,!1)}function Kl(e,t){xp(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gl(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gl(e,t,n){(t!=="number"||wa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(yi(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function Tp(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Is,Cp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jy=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(e){Jy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ei[t]=Ei[e]})});function Rp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ei.hasOwnProperty(e)&&Ei[e]?(""+t).trim():t+"px"}function jp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Yy=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(e,t){if(t){if(Yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Nr=null,Pr=null;function qd(e){if(e=fs(e)){if(typeof eu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ao(t),eu(e.stateNode,e.type,t))}}function Np(e){Nr?Pr?Pr.push(e):Pr=[e]:Nr=e}function Pp(){if(Nr){var e=Nr,t=Pr;if(Pr=Nr=null,qd(e),t)for(e=0;e<t.length;e++)qd(t[e])}}function Ap(e,t){return e(t)}function Dp(){}var tl=!1;function Ip(e,t,n){if(tl)return e(t,n);tl=!0;try{return Ap(e,t,n)}finally{tl=!1,(Nr!==null||Pr!==null)&&(Dp(),Pp())}}function Li(e,t){var n=e.stateNode;if(n===null)return null;var r=ao(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var tu=!1;if(Ht)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){tu=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{tu=!1}function Qy(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ki=!1,_a=null,Sa=!1,nu=null,Xy={onError:function(e){ki=!0,_a=e}};function Zy(e,t,n,r,i,s,a,o,l){ki=!1,_a=null,Qy.apply(Xy,arguments)}function ew(e,t,n,r,i,s,a,o,l){if(Zy.apply(this,arguments),ki){if(ki){var u=_a;ki=!1,_a=null}else throw Error(R(198));Sa||(Sa=!0,nu=u)}}function Xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kd(e){if(Xn(e)!==e)throw Error(R(188))}function tw(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kd(i),e;if(s===r)return Kd(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function $p(e){return e=tw(e),e!==null?Up(e):null}function Up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Up(e);if(t!==null)return t;e=e.sibling}return null}var Mp=nt.unstable_scheduleCallback,Gd=nt.unstable_cancelCallback,nw=nt.unstable_shouldYield,rw=nt.unstable_requestPaint,fe=nt.unstable_now,iw=nt.unstable_getCurrentPriorityLevel,_c=nt.unstable_ImmediatePriority,Fp=nt.unstable_UserBlockingPriority,ba=nt.unstable_NormalPriority,sw=nt.unstable_LowPriority,Bp=nt.unstable_IdlePriority,no=null,$t=null;function aw(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(no,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:uw,ow=Math.log,lw=Math.LN2;function uw(e){return e>>>=0,e===0?32:31-(ow(e)/lw|0)|0}var Ls=64,$s=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ea(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=wi(o):(s&=a,s!==0&&(r=wi(s)))}else a=n&~i,a!==0?r=wi(a):s!==0&&(r=wi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),i=1<<n,r|=e[n],t&=~i;return r}function cw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Et(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=cw(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ds(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function hw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Et(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Sc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var q=0;function Wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vp,bc,Hp,qp,Kp,iu=!1,Us=[],dn=null,hn=null,fn=null,$i=new Map,Ui=new Map,sn=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(t.pointerId)}}function li(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=fs(t),t!==null&&bc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pw(e,t,n,r,i){switch(t){case"focusin":return dn=li(dn,e,t,n,r,i),!0;case"dragenter":return hn=li(hn,e,t,n,r,i),!0;case"mouseover":return fn=li(fn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $i.set(s,li($i.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ui.set(s,li(Ui.get(s)||null,e,t,n,r,i)),!0}return!1}function Gp(e){var t=Ln(e.target);if(t!==null){var n=Xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Lp(n),t!==null){e.blockedOn=t,Kp(e.priority,function(){Hp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zl=r,n.target.dispatchEvent(r),Zl=null}else return t=fs(n),t!==null&&bc(t),e.blockedOn=n,!1;t.shift()}return!0}function Yd(e,t,n){aa(e)&&n.delete(t)}function mw(){iu=!1,dn!==null&&aa(dn)&&(dn=null),hn!==null&&aa(hn)&&(hn=null),fn!==null&&aa(fn)&&(fn=null),$i.forEach(Yd),Ui.forEach(Yd)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,mw)))}function Mi(e){function t(i){return ui(i,e)}if(0<Us.length){ui(Us[0],e);for(var n=1;n<Us.length;n++){var r=Us[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&ui(dn,e),hn!==null&&ui(hn,e),fn!==null&&ui(fn,e),$i.forEach(t),Ui.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&sn.shift()}var Ar=Jt.ReactCurrentBatchConfig,ka=!0;function vw(e,t,n,r){var i=q,s=Ar.transition;Ar.transition=null;try{q=1,Ec(e,t,n,r)}finally{q=i,Ar.transition=s}}function gw(e,t,n,r){var i=q,s=Ar.transition;Ar.transition=null;try{q=4,Ec(e,t,n,r)}finally{q=i,Ar.transition=s}}function Ec(e,t,n,r){if(ka){var i=su(e,t,n,r);if(i===null)hl(e,t,r,xa,n),Jd(e,r);else if(pw(i,e,t,n,r))r.stopPropagation();else if(Jd(e,r),t&4&&-1<fw.indexOf(e)){for(;i!==null;){var s=fs(i);if(s!==null&&Vp(s),s=su(e,t,n,r),s===null&&hl(e,t,r,xa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hl(e,t,r,null,n)}}var xa=null;function su(e,t,n,r){if(xa=null,e=wc(r),e=Ln(e),e!==null)if(t=Xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xa=e,null}function Jp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iw()){case _c:return 1;case Fp:return 4;case ba:case sw:return 16;case Bp:return 536870912;default:return 16}default:return 16}}var ln=null,kc=null,oa=null;function Yp(){if(oa)return oa;var e,t=kc,n=t.length,r,i="value"in ln?ln.value:ln.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return oa=i.slice(e,1<r?1-r:void 0)}function la(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function Qd(){return!1}function it(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ms:Qd,this.isPropagationStopped=Qd,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=it(Gr),hs=le({},Gr,{view:0,detail:0}),yw=it(hs),rl,il,ci,ro=le({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(rl=e.screenX-ci.screenX,il=e.screenY-ci.screenY):il=rl=0,ci=e),rl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),Xd=it(ro),ww=le({},ro,{dataTransfer:0}),_w=it(ww),Sw=le({},hs,{relatedTarget:0}),sl=it(Sw),bw=le({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=it(bw),kw=le({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xw=it(kw),Tw=le({},Gr,{data:0}),Zd=it(Tw),Ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rw[e])?!!t[e]:!1}function Tc(){return jw}var Nw=le({},hs,{key:function(e){if(e.key){var t=Ow[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pw=it(Nw),Aw=le({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=it(Aw),Dw=le({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),Iw=it(Dw),Lw=le({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$w=it(Lw),Uw=le({},ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=it(Uw),Fw=[9,13,27,32],Oc=Ht&&"CompositionEvent"in window,xi=null;Ht&&"documentMode"in document&&(xi=document.documentMode);var Bw=Ht&&"TextEvent"in window&&!xi,Qp=Ht&&(!Oc||xi&&8<xi&&11>=xi),th=" ",nh=!1;function Xp(e,t){switch(e){case"keyup":return Fw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function zw(e,t){switch(e){case"compositionend":return Zp(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function Ww(e,t){if(vr)return e==="compositionend"||!Oc&&Xp(e,t)?(e=Yp(),oa=kc=ln=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qp&&t.locale!=="ko"?null:t.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vw[e.type]:t==="textarea"}function em(e,t,n,r){Np(r),t=Ta(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ti=null,Fi=null;function Hw(e){dm(e,0)}function io(e){var t=wr(e);if(kp(t))return e}function qw(e,t){if(e==="change")return t}var tm=!1;if(Ht){var al;if(Ht){var ol="oninput"in document;if(!ol){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),ol=typeof ih.oninput=="function"}al=ol}else al=!1;tm=al&&(!document.documentMode||9<document.documentMode)}function sh(){Ti&&(Ti.detachEvent("onpropertychange",nm),Fi=Ti=null)}function nm(e){if(e.propertyName==="value"&&io(Fi)){var t=[];em(t,Fi,e,wc(e)),Ip(Hw,t)}}function Kw(e,t,n){e==="focusin"?(sh(),Ti=t,Fi=n,Ti.attachEvent("onpropertychange",nm)):e==="focusout"&&sh()}function Gw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(Fi)}function Jw(e,t){if(e==="click")return io(t)}function Yw(e,t){if(e==="input"||e==="change")return io(t)}function Qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Qw;function Bi(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bl.call(t,i)||!xt(e[i],t[i]))return!1}return!0}function ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,t){var n=ah(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ah(n)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function im(){for(var e=window,t=wa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wa(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xw(e){var t=im(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(r!==null&&Cc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=oh(n,s);var a=oh(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zw=Ht&&"documentMode"in document&&11>=document.documentMode,gr=null,au=null,Oi=null,ou=!1;function lh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ou||gr==null||gr!==wa(r)||(r=gr,"selectionStart"in r&&Cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oi&&Bi(Oi,r)||(Oi=r,r=Ta(au,"onSelect"),0<r.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},ll={},sm={};Ht&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function so(e){if(ll[e])return ll[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sm)return ll[e]=t[n];return e}var am=so("animationend"),om=so("animationiteration"),lm=so("animationstart"),um=so("transitionend"),cm=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){cm.set(e,t),Qn(t,[e])}for(var ul=0;ul<uh.length;ul++){var cl=uh[ul],e0=cl.toLowerCase(),t0=cl[0].toUpperCase()+cl.slice(1);bn(e0,"on"+t0)}bn(am,"onAnimationEnd");bn(om,"onAnimationIteration");bn(lm,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(um,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ew(r,t,void 0,e),e.currentTarget=null}function dm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ch(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ch(i,o,u),s=l}}}if(Sa)throw e=nu,Sa=!1,nu=null,e}function Q(e,t){var n=t[hu];n===void 0&&(n=t[hu]=new Set);var r=e+"__bubble";n.has(r)||(hm(t,e,2,!1),n.add(r))}function dl(e,t,n){var r=0;t&&(r|=4),hm(n,e,r,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Bs]){e[Bs]=!0,wp.forEach(function(n){n!=="selectionchange"&&(n0.has(n)||dl(n,!1,e),dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,dl("selectionchange",!1,t))}}function hm(e,t,n,r){switch(Jp(t)){case 1:var i=vw;break;case 4:i=gw;break;default:i=Ec}n=i.bind(null,t,n,e),i=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ln(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Ip(function(){var u=s,c=wc(n),d=[];e:{var h=cm.get(e);if(h!==void 0){var m=xc,f=e;switch(e){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":m=Pw;break;case"focusin":f="focus",m=sl;break;case"focusout":f="blur",m=sl;break;case"beforeblur":case"afterblur":m=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iw;break;case am:case om:case lm:m=Ew;break;case um:m=$w;break;case"scroll":m=yw;break;case"wheel":m=Mw;break;case"copy":case"cut":case"paste":m=xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eh}var y=(t&4)!==0,_=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=Li(v,g),S!=null&&y.push(Wi(v,S,w)))),_)break;v=v.return}0<y.length&&(h=new m(h,f,null,n,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Zl&&(f=n.relatedTarget||n.fromElement)&&(Ln(f)||f[qt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(f=n.relatedTarget||n.toElement,m=u,f=f?Ln(f):null,f!==null&&(_=Xn(f),f!==_||f.tag!==5&&f.tag!==6)&&(f=null)):(m=null,f=u),m!==f)){if(y=Xd,S="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=eh,S="onPointerLeave",g="onPointerEnter",v="pointer"),_=m==null?h:wr(m),w=f==null?h:wr(f),h=new y(S,v+"leave",m,n,c),h.target=_,h.relatedTarget=w,S=null,Ln(c)===u&&(y=new y(g,v+"enter",f,n,c),y.target=w,y.relatedTarget=_,S=y),_=S,m&&f)t:{for(y=m,g=f,v=0,w=y;w;w=tr(w))v++;for(w=0,S=g;S;S=tr(S))w++;for(;0<v-w;)y=tr(y),v--;for(;0<w-v;)g=tr(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=tr(y),g=tr(g)}y=null}else y=null;m!==null&&dh(d,h,m,y,!1),f!==null&&_!==null&&dh(d,_,f,y,!0)}}e:{if(h=u?wr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=qw;else if(rh(h))if(tm)T=Yw;else{T=Gw;var E=Kw}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Jw);if(T&&(T=T(e,u))){em(d,T,n,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Gl(h,"number",h.value)}switch(E=u?wr(u):window,e){case"focusin":(rh(E)||E.contentEditable==="true")&&(gr=E,au=u,Oi=null);break;case"focusout":Oi=au=gr=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,lh(d,n,c);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":lh(d,n,c)}var b;if(Oc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vr?Xp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Qp&&n.locale!=="ko"&&(vr||C!=="onCompositionStart"?C==="onCompositionEnd"&&vr&&(b=Yp()):(ln=c,kc="value"in ln?ln.value:ln.textContent,vr=!0)),E=Ta(u,C),0<E.length&&(C=new Zd(C,e,null,n,c),d.push({event:C,listeners:E}),b?C.data=b:(b=Zp(n),b!==null&&(C.data=b)))),(b=Bw?zw(e,n):Ww(e,n))&&(u=Ta(u,"onBeforeInput"),0<u.length&&(c=new Zd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}dm(d,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ta(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Li(e,n),s!=null&&r.unshift(Wi(e,s,i)),s=Li(e,t),s!=null&&r.push(Wi(e,s,i))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Li(n,s),l!=null&&a.unshift(Wi(n,l,o))):i||(l=Li(n,s),l!=null&&a.push(Wi(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(r0,`
`).replace(i0,"")}function zs(e,t,n){if(t=hh(t),hh(e)!==t&&n)throw Error(R(425))}function Oa(){}var lu=null,uu=null;function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(e){return fh.resolve(null).then(e).catch(o0)}:du;function o0(e){setTimeout(function(){throw e})}function fl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Mi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mi(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Jr,Vi="__reactProps$"+Jr,qt="__reactContainer$"+Jr,hu="__reactEvents$"+Jr,l0="__reactListeners$"+Jr,u0="__reactHandles$"+Jr;function Ln(e){var t=e[Lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[Lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ph(e);e!==null;){if(n=e[Lt])return n;e=ph(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[Lt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ao(e){return e[Vi]||null}var fu=[],_r=-1;function En(e){return{current:e}}function Z(e){0>_r||(e.current=fu[_r],fu[_r]=null,_r--)}function Y(e,t){_r++,fu[_r]=e.current,e.current=t}var Sn={},Ie=En(Sn),qe=En(!1),Hn=Sn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(e){return e=e.childContextTypes,e!=null}function Ca(){Z(qe),Z(Ie)}function mh(e,t,n){if(Ie.current!==Sn)throw Error(R(168));Y(Ie,t),Y(qe,n)}function fm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,Ky(e)||"Unknown",i));return le({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Hn=Ie.current,Y(Ie,e),Y(qe,qe.current),!0}function vh(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=fm(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,Z(qe),Z(Ie),Y(Ie,e)):Z(qe),Y(qe,n)}var Bt=null,oo=!1,pl=!1;function pm(e){Bt===null?Bt=[e]:Bt.push(e)}function c0(e){oo=!0,pm(e)}function kn(){if(!pl&&Bt!==null){pl=!0;var e=0,t=q;try{var n=Bt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,oo=!1}catch(i){throw Bt!==null&&(Bt=Bt.slice(e+1)),Mp(_c,kn),i}finally{q=t,pl=!1}}return null}var Sr=[],br=0,ja=null,Na=0,ot=[],lt=0,qn=null,zt=1,Wt="";function Nn(e,t){Sr[br++]=Na,Sr[br++]=ja,ja=e,Na=t}function mm(e,t,n){ot[lt++]=zt,ot[lt++]=Wt,ot[lt++]=qn,qn=e;var r=zt;e=Wt;var i=32-Et(r)-1;r&=~(1<<i),n+=1;var s=32-Et(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zt=1<<32-Et(t)+i|n<<i|r,Wt=s+e}else zt=1<<s|n<<i|r,Wt=e}function Rc(e){e.return!==null&&(Nn(e,1),mm(e,1,0))}function jc(e){for(;e===ja;)ja=Sr[--br],Sr[br]=null,Na=Sr[--br],Sr[br]=null;for(;e===qn;)qn=ot[--lt],ot[lt]=null,Wt=ot[--lt],ot[lt]=null,zt=ot[--lt],ot[lt]=null}var tt=null,et=null,ee=!1,bt=null;function vm(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qn!==null?{id:zt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(ee){var t=et;if(t){var n=t;if(!gh(e,t)){if(pu(e))throw Error(R(418));t=pn(n.nextSibling);var r=tt;t&&gh(e,t)?vm(r,n):(e.flags=e.flags&-4097|2,ee=!1,tt=e)}}else{if(pu(e))throw Error(R(418));e.flags=e.flags&-4097|2,ee=!1,tt=e}}}function yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ws(e){if(e!==tt)return!1;if(!ee)return yh(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cu(e.type,e.memoizedProps)),t&&(t=et)){if(pu(e))throw gm(),Error(R(418));for(;t;)vm(e,t),t=pn(t.nextSibling)}if(yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?pn(e.stateNode.nextSibling):null;return!0}function gm(){for(var e=et;e;)e=pn(e.nextSibling)}function Fr(){et=tt=null,ee=!1}function Nc(e){bt===null?bt=[e]:bt.push(e)}var d0=Jt.ReactCurrentBatchConfig;function di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wh(e){var t=e._init;return t(e._payload)}function ym(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=yn(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,S){return v===null||v.tag!==6?(v=Sl(w,g.mode,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,S){var T=w.type;return T===mr?c(g,v,w.props.children,S,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tn&&wh(T)===v.type)?(S=i(v,w.props),S.ref=di(g,v,w),S.return=g,S):(S=ma(w.type,w.key,w.props,null,g.mode,S),S.ref=di(g,v,w),S.return=g,S)}function u(g,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=bl(w,g.mode,S),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,S,T){return v===null||v.tag!==7?(v=zn(w,g.mode,S,T),v.return=g,v):(v=i(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sl(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case As:return w=ma(v.type,v.key,v.props,null,g.mode,w),w.ref=di(g,null,v),w.return=g,w;case pr:return v=bl(v,g.mode,w),v.return=g,v;case tn:var S=v._init;return d(g,S(v._payload),w)}if(yi(v)||ai(v))return v=zn(v,g.mode,w,null),v.return=g,v;Vs(g,v)}return null}function h(g,v,w,S){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:o(g,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case As:return w.key===T?l(g,v,w,S):null;case pr:return w.key===T?u(g,v,w,S):null;case tn:return T=w._init,h(g,v,T(w._payload),S)}if(yi(w)||ai(w))return T!==null?null:c(g,v,w,S,null);Vs(g,w)}return null}function m(g,v,w,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,o(v,g,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case As:return g=g.get(S.key===null?w:S.key)||null,l(v,g,S,T);case pr:return g=g.get(S.key===null?w:S.key)||null,u(v,g,S,T);case tn:var E=S._init;return m(g,v,w,E(S._payload),T)}if(yi(S)||ai(S))return g=g.get(w)||null,c(v,g,S,T,null);Vs(v,S)}return null}function f(g,v,w,S){for(var T=null,E=null,b=v,C=v=0,A=null;b!==null&&C<w.length;C++){b.index>C?(A=b,b=null):A=b.sibling;var P=h(g,b,w[C],S);if(P===null){b===null&&(b=A);break}e&&b&&P.alternate===null&&t(g,b),v=s(P,v,C),E===null?T=P:E.sibling=P,E=P,b=A}if(C===w.length)return n(g,b),ee&&Nn(g,C),T;if(b===null){for(;C<w.length;C++)b=d(g,w[C],S),b!==null&&(v=s(b,v,C),E===null?T=b:E.sibling=b,E=b);return ee&&Nn(g,C),T}for(b=r(g,b);C<w.length;C++)A=m(b,g,C,w[C],S),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?C:A.key),v=s(A,v,C),E===null?T=A:E.sibling=A,E=A);return e&&b.forEach(function(G){return t(g,G)}),ee&&Nn(g,C),T}function y(g,v,w,S){var T=ai(w);if(typeof T!="function")throw Error(R(150));if(w=T.call(w),w==null)throw Error(R(151));for(var E=T=null,b=v,C=v=0,A=null,P=w.next();b!==null&&!P.done;C++,P=w.next()){b.index>C?(A=b,b=null):A=b.sibling;var G=h(g,b,P.value,S);if(G===null){b===null&&(b=A);break}e&&b&&G.alternate===null&&t(g,b),v=s(G,v,C),E===null?T=G:E.sibling=G,E=G,b=A}if(P.done)return n(g,b),ee&&Nn(g,C),T;if(b===null){for(;!P.done;C++,P=w.next())P=d(g,P.value,S),P!==null&&(v=s(P,v,C),E===null?T=P:E.sibling=P,E=P);return ee&&Nn(g,C),T}for(b=r(g,b);!P.done;C++,P=w.next())P=m(b,g,C,P.value,S),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?C:P.key),v=s(P,v,C),E===null?T=P:E.sibling=P,E=P);return e&&b.forEach(function(ne){return t(g,ne)}),ee&&Nn(g,C),T}function _(g,v,w,S){if(typeof w=="object"&&w!==null&&w.type===mr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case As:e:{for(var T=w.key,E=v;E!==null;){if(E.key===T){if(T=w.type,T===mr){if(E.tag===7){n(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===tn&&wh(T)===E.type){n(g,E.sibling),v=i(E,w.props),v.ref=di(g,E,w),v.return=g,g=v;break e}n(g,E);break}else t(g,E);E=E.sibling}w.type===mr?(v=zn(w.props.children,g.mode,S,w.key),v.return=g,g=v):(S=ma(w.type,w.key,w.props,null,g.mode,S),S.ref=di(g,v,w),S.return=g,g=S)}return a(g);case pr:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=bl(w,g.mode,S),v.return=g,g=v}return a(g);case tn:return E=w._init,_(g,v,E(w._payload),S)}if(yi(w))return f(g,v,w,S);if(ai(w))return y(g,v,w,S);Vs(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Sl(w,g.mode,S),v.return=g,g=v),a(g)):n(g,v)}return _}var Br=ym(!0),wm=ym(!1),Pa=En(null),Aa=null,Er=null,Pc=null;function Ac(){Pc=Er=Aa=null}function Dc(e){var t=Pa.current;Z(Pa),e._currentValue=t}function vu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Aa=e,Pc=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Pc!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(Aa===null)throw Error(R(308));Er=e,Aa.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var $n=null;function Ic(e){$n===null?$n=[e]:$n.push(e)}function _m(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ic(t)):(n.next=i.next,i.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Kt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ic(r)):(t.next=i.next,i.next=t),r.interleaved=t,Kt(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sc(e,n)}}function _h(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;nn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,y=o;switch(h=t,m=n,y.tag){case 1:if(f=y.payload,typeof f=="function"){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=y.payload,h=typeof f=="function"?f.call(m,d,h):f,h==null)break e;d=le({},d,h);break e;case 2:nn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gn|=a,e.lanes=a,e.memoizedState=d}}function Sh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var ps={},Ut=En(ps),Hi=En(ps),qi=En(ps);function Un(e){if(e===ps)throw Error(R(174));return e}function $c(e,t){switch(Y(qi,t),Y(Hi,e),Y(Ut,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}Z(Ut),Y(Ut,t)}function zr(){Z(Ut),Z(Hi),Z(qi)}function bm(e){Un(qi.current);var t=Un(Ut.current),n=Yl(t,e.type);t!==n&&(Y(Hi,e),Y(Ut,n))}function Uc(e){Hi.current===e&&(Z(Ut),Z(Hi))}var ie=En(0);function Ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=[];function Mc(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var ca=Jt.ReactCurrentDispatcher,vl=Jt.ReactCurrentBatchConfig,Kn=0,ae=null,_e=null,Ee=null,La=!1,Ci=!1,Ki=0,h0=0;function Ne(){throw Error(R(321))}function Fc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Bc(e,t,n,r,i,s){if(Kn=s,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=e===null||e.memoizedState===null?v0:g0,e=n(r,i),Ci){s=0;do{if(Ci=!1,Ki=0,25<=s)throw Error(R(301));s+=1,Ee=_e=null,t.updateQueue=null,ca.current=y0,e=n(r,i)}while(Ci)}if(ca.current=$a,t=_e!==null&&_e.next!==null,Kn=0,Ee=_e=ae=null,La=!1,t)throw Error(R(300));return e}function zc(){var e=Ki!==0;return Ki=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ae.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ht(){if(_e===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ee===null?ae.memoizedState:Ee.next;if(t!==null)Ee=t,_e=e;else{if(e===null)throw Error(R(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ee===null?ae.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Gi(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=ht(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=_e,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Kn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ae.lanes|=c,Gn|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,xt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ae.lanes|=s,Gn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=ht(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);xt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Em(){}function km(e,t){var n=ae,r=ht(),i=t(),s=!xt(r.memoizedState,i);if(s&&(r.memoizedState=i,He=!0),r=r.queue,Wc(Om.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Ji(9,Tm.bind(null,n,r,i,t),void 0,null),ke===null)throw Error(R(349));Kn&30||xm(n,t,i)}return i}function xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tm(e,t,n,r){t.value=n,t.getSnapshot=r,Cm(t)&&Rm(e)}function Om(e,t,n){return n(function(){Cm(t)&&Rm(e)})}function Cm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Rm(e){var t=Kt(e,1);t!==null&&kt(t,e,1,-1)}function bh(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=m0.bind(null,ae,e),[t.memoizedState,e]}function Ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jm(){return ht().memoizedState}function da(e,t,n,r){var i=It();ae.flags|=e,i.memoizedState=Ji(1|t,n,void 0,r===void 0?null:r)}function lo(e,t,n,r){var i=ht();r=r===void 0?null:r;var s=void 0;if(_e!==null){var a=_e.memoizedState;if(s=a.destroy,r!==null&&Fc(r,a.deps)){i.memoizedState=Ji(t,n,s,r);return}}ae.flags|=e,i.memoizedState=Ji(1|t,n,s,r)}function Eh(e,t){return da(8390656,8,e,t)}function Wc(e,t){return lo(2048,8,e,t)}function Nm(e,t){return lo(4,2,e,t)}function Pm(e,t){return lo(4,4,e,t)}function Am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dm(e,t,n){return n=n!=null?n.concat([e]):null,lo(4,4,Am.bind(null,t,e),n)}function Vc(){}function Im(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lm(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $m(e,t,n){return Kn&21?(xt(n,t)||(n=zp(),ae.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function f0(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=vl.transition;vl.transition={};try{e(!1),t()}finally{q=n,vl.transition=r}}function Um(){return ht().memoizedState}function p0(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mm(e))Fm(t,n);else if(n=_m(e,t,n,r),n!==null){var i=$e();kt(n,e,r,i),Bm(n,t,r)}}function m0(e,t,n){var r=gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mm(e))Fm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,xt(o,a)){var l=t.interleaved;l===null?(i.next=i,Ic(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_m(e,t,i,r),n!==null&&(i=$e(),kt(n,e,r,i),Bm(n,t,r))}}function Mm(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Fm(e,t){Ci=La=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sc(e,n)}}var $a={readContext:dt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},v0={readContext:dt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Eh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,da(4194308,4,Am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=p0.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:bh,useDebugValue:Vc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=bh(!1),t=e[0];return e=f0.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,i=It();if(ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ke===null)throw Error(R(349));Kn&30||xm(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Eh(Om.bind(null,r,s,e),[e]),r.flags|=2048,Ji(9,Tm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=It(),t=ke.identifierPrefix;if(ee){var n=Wt,r=zt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=h0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:dt,useCallback:Im,useContext:dt,useEffect:Wc,useImperativeHandle:Dm,useInsertionEffect:Nm,useLayoutEffect:Pm,useMemo:Lm,useReducer:gl,useRef:jm,useState:function(){return gl(Gi)},useDebugValue:Vc,useDeferredValue:function(e){var t=ht();return $m(t,_e.memoizedState,e)},useTransition:function(){var e=gl(Gi)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Em,useSyncExternalStore:km,useId:Um,unstable_isNewReconciler:!1},y0={readContext:dt,useCallback:Im,useContext:dt,useEffect:Wc,useImperativeHandle:Dm,useInsertionEffect:Nm,useLayoutEffect:Pm,useMemo:Lm,useReducer:yl,useRef:jm,useState:function(){return yl(Gi)},useDebugValue:Vc,useDeferredValue:function(e){var t=ht();return _e===null?t.memoizedState=e:$m(t,_e.memoizedState,e)},useTransition:function(){var e=yl(Gi)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Em,useSyncExternalStore:km,useId:Um,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uo={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),i=gn(e),s=Vt(r,i);s.payload=t,n!=null&&(s.callback=n),t=mn(e,s,i),t!==null&&(kt(t,e,i,r),ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),i=gn(e),s=Vt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=mn(e,s,i),t!==null&&(kt(t,e,i,r),ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=gn(e),i=Vt(n,r);i.tag=2,t!=null&&(i.callback=t),t=mn(e,i,r),t!==null&&(kt(t,e,r,n),ua(t,e,r))}};function kh(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Bi(n,r)||!Bi(i,s):!0}function zm(e,t,n){var r=!1,i=Sn,s=t.contextType;return typeof s=="object"&&s!==null?s=dt(s):(i=Ke(t)?Hn:Ie.current,r=t.contextTypes,s=(r=r!=null)?Mr(e,i):Sn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function xh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uo.enqueueReplaceState(t,t.state,null)}function yu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=dt(s):(s=Ke(t)?Hn:Ie.current,i.context=Mr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(gu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&uo.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",r=t;do n+=qy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var w0=typeof WeakMap=="function"?WeakMap:Map;function Wm(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ma||(Ma=!0,Ru=r),wu(e,t)},n}function Vm(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wu(e,t),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Th(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new w0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=A0.bind(null,e,t,n),t.then(e,e))}function Oh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var _0=Jt.ReactCurrentOwner,He=!1;function Le(e,t,n,r){t.child=e===null?wm(t,null,n,r):Br(t,e.child,n,r)}function Rh(e,t,n,r,i){n=n.render;var s=t.ref;return Dr(t,i),r=Bc(e,t,n,r,s,i),n=zc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&n&&Rc(t),t.flags|=1,Le(e,t,r,i),t.child)}function jh(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Xc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Hm(e,t,s,r,i)):(e=ma(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(a,r)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=yn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Hm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Bi(s,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return _u(e,t,n,r,i)}function qm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(xr,Xe),Xe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(xr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(xr,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Y(xr,Xe),Xe|=r;return Le(e,t,i,n),t.child}function Km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,i){var s=Ke(n)?Hn:Ie.current;return s=Mr(t,s),Dr(t,i),n=Bc(e,t,n,r,s,i),r=zc(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(ee&&r&&Rc(t),t.flags|=1,Le(e,t,n,i),t.child)}function Nh(e,t,n,r,i){if(Ke(n)){var s=!0;Ra(t)}else s=!1;if(Dr(t,i),t.stateNode===null)ha(e,t),zm(t,n,r),yu(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ke(n)?Hn:Ie.current,u=Mr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&xh(t,a,r,u),nn=!1;var h=t.memoizedState;a.state=h,Da(t,r,a,i),l=t.memoizedState,o!==r||h!==l||qe.current||nn?(typeof c=="function"&&(gu(t,n,c,r),l=t.memoizedState),(o=nn||kh(t,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Sm(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:yt(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=dt(l):(l=Ke(n)?Hn:Ie.current,l=Mr(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&xh(t,a,r,l),nn=!1,h=t.memoizedState,a.state=h,Da(t,r,a,i);var f=t.memoizedState;o!==d||h!==f||qe.current||nn?(typeof m=="function"&&(gu(t,n,m,r),f=t.memoizedState),(u=nn||kh(t,n,u,r,h,f,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,s,i)}function Su(e,t,n,r,i,s){Km(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&vh(t,n,!1),Gt(e,t,s);r=t.stateNode,_0.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Br(t,e.child,null,s),t.child=Br(t,null,o,s)):Le(e,t,o,s),t.memoizedState=r.state,i&&vh(t,n,!0),t.child}function Gm(e){var t=e.stateNode;t.pendingContext?mh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mh(e,t.context,!1),$c(e,t.containerInfo)}function Ph(e,t,n,r,i){return Fr(),Nc(i),t.flags|=256,Le(e,t,n,r),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jm(e,t,n){var r=t.pendingProps,i=ie.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(ie,i&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=fo(a,r,0,null),e=zn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Eu(n),t.memoizedState=bu,e):Hc(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return S0(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=yn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=yn(o,s):(s=zn(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Eu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=bu,r}return s=e.child,e=s.sibling,r=yn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hc(e,t){return t=fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,n,r){return r!==null&&Nc(r),Br(t,e.child,null,n),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S0(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=wl(Error(R(422))),Hs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=fo({mode:"visible",children:r.children},i,0,null),s=zn(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Br(t,e.child,null,a),t.child.memoizedState=Eu(a),t.memoizedState=bu,s);if(!(t.mode&1))return Hs(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(R(419)),r=wl(s,r,void 0),Hs(e,t,a,r)}if(o=(a&e.childLanes)!==0,He||o){if(r=ke,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kt(e,i),kt(r,e,i,-1))}return Qc(),r=wl(Error(R(421))),Hs(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D0.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,et=pn(i.nextSibling),tt=t,ee=!0,bt=null,e!==null&&(ot[lt++]=zt,ot[lt++]=Wt,ot[lt++]=qn,zt=e.id,Wt=e.overflow,qn=t),t=Hc(t,r.children),t.flags|=4096,t)}function Ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vu(e.return,t,n)}function _l(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ym(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Le(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,n,t);else if(e.tag===19)Ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ia(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_l(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ia(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_l(t,!0,n,null,s);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b0(e,t,n){switch(t.tag){case 3:Gm(t),Fr();break;case 5:bm(t);break;case 1:Ke(t.type)&&Ra(t);break;case 4:$c(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(Pa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Jm(e,t,n):(Y(ie,ie.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Y(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ym(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,qm(e,t,n)}return Gt(e,t,n)}var Qm,ku,Xm,Zm;Qm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ku=function(){};Xm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Un(Ut.current);var s=null;switch(n){case"input":i=ql(e,i),r=ql(e,r),s=[];break;case"select":i=le({},i,{value:void 0}),r=le({},r,{value:void 0}),s=[];break;case"textarea":i=Jl(e,i),r=Jl(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Oa)}Ql(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Di.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Di.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Zm=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E0(e,t,n){var r=t.pendingProps;switch(jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ke(t.type)&&Ca(),Pe(t),null;case 3:return r=t.stateNode,zr(),Z(qe),Z(Ie),Mc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Pu(bt),bt=null))),ku(e,t),Pe(t),null;case 5:Uc(t);var i=Un(qi.current);if(n=t.type,e!==null&&t.stateNode!=null)Xm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Pe(t),null}if(e=Un(Ut.current),Ws(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Lt]=t,r[Vi]=s,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(i=0;i<_i.length;i++)Q(_i[i],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":zd(r,s),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Q("invalid",r);break;case"textarea":Vd(r,s),Q("invalid",r)}Ql(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&zs(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&zs(r.textContent,o,e),i=["children",""+o]):Di.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Q("scroll",r)}switch(n){case"input":Ds(r),Wd(r,s,!0);break;case"textarea":Ds(r),Hd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Oa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Op(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Lt]=t,e[Vi]=r,Qm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xl(n,r),n){case"dialog":Q("cancel",e),Q("close",e),i=r;break;case"iframe":case"object":case"embed":Q("load",e),i=r;break;case"video":case"audio":for(i=0;i<_i.length;i++)Q(_i[i],e);i=r;break;case"source":Q("error",e),i=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),i=r;break;case"details":Q("toggle",e),i=r;break;case"input":zd(e,r),i=ql(e,r),Q("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=le({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Vd(e,r),i=Jl(e,r),Q("invalid",e);break;default:i=r}Ql(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?jp(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cp(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ii(e,l):typeof l=="number"&&Ii(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Di.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Q("scroll",e):l!=null&&mc(e,s,l,a))}switch(n){case"input":Ds(e),Wd(e,r,!1);break;case"textarea":Ds(e),Hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?jr(e,!!r.multiple,s,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Zm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Un(qi.current),Un(Ut.current),Ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lt]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:zs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return Pe(t),null;case 13:if(Z(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&et!==null&&t.mode&1&&!(t.flags&128))gm(),Fr(),t.flags|=98560,s=!1;else if(s=Ws(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Lt]=t}else Fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),s=!1}else bt!==null&&(Pu(bt),bt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?Se===0&&(Se=3):Qc())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return zr(),ku(e,t),e===null&&zi(t.stateNode.containerInfo),Pe(t),null;case 10:return Dc(t.type._context),Pe(t),null;case 17:return Ke(t.type)&&Ca(),Pe(t),null;case 19:if(Z(ie),s=t.memoizedState,s===null)return Pe(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)hi(s,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ia(e),a!==null){for(t.flags|=128,hi(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ie,ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&fe()>Vr&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ia(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ee)return Pe(t),null}else 2*fe()-s.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fe(),t.sibling=null,n=ie.current,Y(ie,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return Yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function k0(e,t){switch(jc(t),t.tag){case 1:return Ke(t.type)&&Ca(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),Z(qe),Z(Ie),Mc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uc(t),null;case 13:if(Z(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ie),null;case 4:return zr(),null;case 10:return Dc(t.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var qs=!1,Ae=!1,x0=typeof WeakSet=="function"?WeakSet:Set,N=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function xu(e,t,n){try{n()}catch(r){de(e,t,r)}}var Dh=!1;function T0(e,t){if(lu=ka,e=im(),Cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uu={focusedElem:e,selectionRange:n},ka=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var y=f.memoizedProps,_=f.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:yt(t.type,y),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return f=Dh,Dh=!1,f}function Ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&xu(t,n,s)}i=i.next}while(i!==r)}}function co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ev(e){var t=e.alternate;t!==null&&(e.alternate=null,ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Vi],delete t[hu],delete t[l0],delete t[u0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tv(e){return e.tag===5||e.tag===3||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oa));else if(r!==4&&(e=e.child,e!==null))for(Ou(e,t,n),e=e.sibling;e!==null;)Ou(e,t,n),e=e.sibling}function Cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}var Ce=null,_t=!1;function en(e,t,n){for(n=n.child;n!==null;)nv(e,t,n),n=n.sibling}function nv(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(no,n)}catch{}switch(n.tag){case 5:Ae||kr(n,t);case 6:var r=Ce,i=_t;Ce=null,en(e,t,n),Ce=r,_t=i,Ce!==null&&(_t?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(_t?(e=Ce,n=n.stateNode,e.nodeType===8?fl(e.parentNode,n):e.nodeType===1&&fl(e,n),Mi(e)):fl(Ce,n.stateNode));break;case 4:r=Ce,i=_t,Ce=n.stateNode.containerInfo,_t=!0,en(e,t,n),Ce=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&xu(n,t,a),i=i.next}while(i!==r)}en(e,t,n);break;case 1:if(!Ae&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){de(n,t,o)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,en(e,t,n),Ae=r):en(e,t,n);break;default:en(e,t,n)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new x0),t.forEach(function(r){var i=I0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ce=o.stateNode,_t=!1;break e;case 3:Ce=o.stateNode.containerInfo,_t=!0;break e;case 4:Ce=o.stateNode.containerInfo,_t=!0;break e}o=o.return}if(Ce===null)throw Error(R(160));nv(s,a,i),Ce=null,_t=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){de(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rv(t,e),t=t.sibling}function rv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Pt(e),r&4){try{Ri(3,e,e.return),co(3,e)}catch(y){de(e,e.return,y)}try{Ri(5,e,e.return)}catch(y){de(e,e.return,y)}}break;case 1:mt(t,e),Pt(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(mt(t,e),Pt(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var i=e.stateNode;try{Ii(i,"")}catch(y){de(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&xp(i,s),Xl(o,a);var u=Xl(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?jp(i,d):c==="dangerouslySetInnerHTML"?Cp(i,d):c==="children"?Ii(i,d):mc(i,c,d,u)}switch(o){case"input":Kl(i,s);break;case"textarea":Tp(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?jr(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?jr(i,!!s.multiple,s.defaultValue,!0):jr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vi]=s}catch(y){de(e,e.return,y)}}break;case 6:if(mt(t,e),Pt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){de(e,e.return,y)}}break;case 3:if(mt(t,e),Pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(y){de(e,e.return,y)}break;case 4:mt(t,e),Pt(e);break;case 13:mt(t,e),Pt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gc=fe())),r&4&&Lh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||c,mt(t,e),Ae=u):mt(t,e),Pt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(N=e,c=e.child;c!==null;){for(d=N=c;N!==null;){switch(h=N,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ri(4,h,h.return);break;case 1:kr(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(y){de(r,n,y)}}break;case 5:kr(h,h.return);break;case 22:if(h.memoizedState!==null){Uh(d);continue}}m!==null?(m.return=h,N=m):Uh(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Rp("display",a))}catch(y){de(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){de(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mt(t,e),Pt(e),r&4&&Lh(e);break;case 21:break;default:mt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tv(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ii(i,""),r.flags&=-33);var s=Ih(e);Cu(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Ih(e);Ou(e,o,a);break;default:throw Error(R(161))}}catch(l){de(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O0(e,t,n){N=e,iv(e)}function iv(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var i=N,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||qs;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ae;o=qs;var u=Ae;if(qs=a,(Ae=l)&&!u)for(N=i;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Mh(i):l!==null?(l.return=a,N=l):Mh(i);for(;s!==null;)N=s,iv(s),s=s.sibling;N=i,qs=o,Ae=u}$h(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,N=s):$h(e)}}function $h(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||co(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sh(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sh(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Mi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ae||t.flags&512&&Tu(t)}catch(h){de(t,t.return,h)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function Uh(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function Mh(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{co(4,t)}catch(l){de(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){de(t,i,l)}}var s=t.return;try{Tu(t)}catch(l){de(t,s,l)}break;case 5:var a=t.return;try{Tu(t)}catch(l){de(t,a,l)}}}catch(l){de(t,t.return,l)}if(t===e){N=null;break}var o=t.sibling;if(o!==null){o.return=t.return,N=o;break}N=t.return}}var C0=Math.ceil,Ua=Jt.ReactCurrentDispatcher,qc=Jt.ReactCurrentOwner,ct=Jt.ReactCurrentBatchConfig,V=0,ke=null,ge=null,Re=0,Xe=0,xr=En(0),Se=0,Yi=null,Gn=0,ho=0,Kc=0,ji=null,Ve=null,Gc=0,Vr=1/0,Mt=null,Ma=!1,Ru=null,vn=null,Ks=!1,un=null,Fa=0,Ni=0,ju=null,fa=-1,pa=0;function $e(){return V&6?fe():fa!==-1?fa:fa=fe()}function gn(e){return e.mode&1?V&2&&Re!==0?Re&-Re:d0.transition!==null?(pa===0&&(pa=zp()),pa):(e=q,e!==0||(e=window.event,e=e===void 0?16:Jp(e.type)),e):1}function kt(e,t,n,r){if(50<Ni)throw Ni=0,ju=null,Error(R(185));ds(e,n,r),(!(V&2)||e!==ke)&&(e===ke&&(!(V&2)&&(ho|=n),Se===4&&an(e,Re)),Ge(e,r),n===1&&V===0&&!(t.mode&1)&&(Vr=fe()+500,oo&&kn()))}function Ge(e,t){var n=e.callbackNode;dw(e,t);var r=Ea(e,e===ke?Re:0);if(r===0)n!==null&&Gd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gd(n),t===1)e.tag===0?c0(Fh.bind(null,e)):pm(Fh.bind(null,e)),a0(function(){!(V&6)&&kn()}),n=null;else{switch(Wp(r)){case 1:n=_c;break;case 4:n=Fp;break;case 16:n=ba;break;case 536870912:n=Bp;break;default:n=ba}n=hv(n,sv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sv(e,t){if(fa=-1,pa=0,V&6)throw Error(R(327));var n=e.callbackNode;if(Ir()&&e.callbackNode!==n)return null;var r=Ea(e,e===ke?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ba(e,r);else{t=r;var i=V;V|=2;var s=ov();(ke!==e||Re!==t)&&(Mt=null,Vr=fe()+500,Bn(e,t));do try{N0();break}catch(o){av(e,o)}while(!0);Ac(),Ua.current=s,V=i,ge!==null?t=0:(ke=null,Re=0,t=Se)}if(t!==0){if(t===2&&(i=ru(e),i!==0&&(r=i,t=Nu(e,i))),t===1)throw n=Yi,Bn(e,0),an(e,r),Ge(e,fe()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!R0(i)&&(t=Ba(e,r),t===2&&(s=ru(e),s!==0&&(r=s,t=Nu(e,s))),t===1))throw n=Yi,Bn(e,0),an(e,r),Ge(e,fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Pn(e,Ve,Mt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Gc+500-fe(),10<t)){if(Ea(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=du(Pn.bind(null,e,Ve,Mt),t);break}Pn(e,Ve,Mt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Et(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C0(r/1960))-r,10<r){e.timeoutHandle=du(Pn.bind(null,e,Ve,Mt),r);break}Pn(e,Ve,Mt);break;case 5:Pn(e,Ve,Mt);break;default:throw Error(R(329))}}}return Ge(e,fe()),e.callbackNode===n?sv.bind(null,e):null}function Nu(e,t){var n=ji;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Pu(t)),e}function Pu(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function R0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Kc,t&=~ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Fh(e){if(V&6)throw Error(R(327));Ir();var t=Ea(e,0);if(!(t&1))return Ge(e,fe()),null;var n=Ba(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Nu(e,r))}if(n===1)throw n=Yi,Bn(e,0),an(e,t),Ge(e,fe()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,Ve,Mt),Ge(e,fe()),null}function Jc(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Vr=fe()+500,oo&&kn())}}function Jn(e){un!==null&&un.tag===0&&!(V&6)&&Ir();var t=V;V|=1;var n=ct.transition,r=q;try{if(ct.transition=null,q=1,e)return e()}finally{q=r,ct.transition=n,V=t,!(V&6)&&kn()}}function Yc(){Xe=xr.current,Z(xr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s0(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ca();break;case 3:zr(),Z(qe),Z(Ie),Mc();break;case 5:Uc(r);break;case 4:zr();break;case 13:Z(ie);break;case 19:Z(ie);break;case 10:Dc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(ke=e,ge=e=yn(e.current,null),Re=Xe=t,Se=0,Yi=null,Kc=ho=Gn=0,Ve=ji=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}$n=null}return e}function av(e,t){do{var n=ge;try{if(Ac(),ca.current=$a,La){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}La=!1}if(Kn=0,Ee=_e=ae=null,Ci=!1,Ki=0,qc.current=null,n===null||n.return===null){Se=1,Yi=t,ge=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Re,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Oh(a);if(m!==null){m.flags&=-257,Ch(m,a,o,s,t),m.mode&1&&Th(s,u,t),t=m,l=u;var f=t.updateQueue;if(f===null){var y=new Set;y.add(l),t.updateQueue=y}else f.add(l);break e}else{if(!(t&1)){Th(s,u,t),Qc();break e}l=Error(R(426))}}else if(ee&&o.mode&1){var _=Oh(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ch(_,a,o,s,t),Nc(Wr(l,o));break e}}s=l=Wr(l,o),Se!==4&&(Se=2),ji===null?ji=[s]:ji.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Wm(s,l,t);_h(s,g);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vn===null||!vn.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=Vm(s,o,t);_h(s,S);break e}}s=s.return}while(s!==null)}uv(n)}catch(T){t=T,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function ov(){var e=Ua.current;return Ua.current=$a,e===null?$a:e}function Qc(){(Se===0||Se===3||Se===2)&&(Se=4),ke===null||!(Gn&268435455)&&!(ho&268435455)||an(ke,Re)}function Ba(e,t){var n=V;V|=2;var r=ov();(ke!==e||Re!==t)&&(Mt=null,Bn(e,t));do try{j0();break}catch(i){av(e,i)}while(!0);if(Ac(),V=n,Ua.current=r,ge!==null)throw Error(R(261));return ke=null,Re=0,Se}function j0(){for(;ge!==null;)lv(ge)}function N0(){for(;ge!==null&&!nw();)lv(ge)}function lv(e){var t=dv(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?uv(e):ge=t,qc.current=null}function uv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=k0(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,ge=null;return}}else if(n=E0(n,t,Xe),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Se===0&&(Se=5)}function Pn(e,t,n){var r=q,i=ct.transition;try{ct.transition=null,q=1,P0(e,t,n,r)}finally{ct.transition=i,q=r}return null}function P0(e,t,n,r){do Ir();while(un!==null);if(V&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(hw(e,s),e===ke&&(ge=ke=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,hv(ba,function(){return Ir(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ct.transition,ct.transition=null;var a=q;q=1;var o=V;V|=4,qc.current=null,T0(e,n),rv(n,e),Xw(uu),ka=!!lu,uu=lu=null,e.current=n,O0(n),rw(),V=o,q=a,ct.transition=s}else e.current=n;if(Ks&&(Ks=!1,un=e,Fa=i),s=e.pendingLanes,s===0&&(vn=null),aw(n.stateNode),Ge(e,fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ma)throw Ma=!1,e=Ru,Ru=null,e;return Fa&1&&e.tag!==0&&Ir(),s=e.pendingLanes,s&1?e===ju?Ni++:(Ni=0,ju=e):Ni=0,kn(),null}function Ir(){if(un!==null){var e=Wp(Fa),t=ct.transition,n=q;try{if(ct.transition=null,q=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,Fa=0,V&6)throw Error(R(331));var i=V;for(V|=4,N=e.current;N!==null;){var s=N,a=s.child;if(N.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Ri(8,c,s)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var h=c.sibling,m=c.return;if(ev(c),c===u){N=null;break}if(h!==null){h.return=m,N=h;break}N=m}}}var f=s.alternate;if(f!==null){var y=f.child;if(y!==null){f.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}N=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,N=a;else e:for(;N!==null;){if(s=N,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ri(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,N=g;break e}N=s.return}}var v=e.current;for(N=v;N!==null;){a=N;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,N=w;else e:for(a=v;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:co(9,o)}}catch(T){de(o,o.return,T)}if(o===a){N=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,N=S;break e}N=o.return}}if(V=i,kn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(no,e)}catch{}r=!0}return r}finally{q=n,ct.transition=t}}return!1}function Bh(e,t,n){t=Wr(n,t),t=Wm(e,t,1),e=mn(e,t,1),t=$e(),e!==null&&(ds(e,1,t),Ge(e,t))}function de(e,t,n){if(e.tag===3)Bh(e,e,n);else for(;t!==null;){if(t.tag===3){Bh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){e=Wr(n,e),e=Vm(t,e,1),t=mn(t,e,1),e=$e(),t!==null&&(ds(t,1,e),Ge(t,e));break}}t=t.return}}function A0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Re&n)===n&&(Se===4||Se===3&&(Re&130023424)===Re&&500>fe()-Gc?Bn(e,0):Kc|=n),Ge(e,t)}function cv(e,t){t===0&&(e.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var n=$e();e=Kt(e,t),e!==null&&(ds(e,t,n),Ge(e,n))}function D0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cv(e,n)}function I0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),cv(e,n)}var dv;dv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,b0(e,t,n);He=!!(e.flags&131072)}else He=!1,ee&&t.flags&1048576&&mm(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ha(e,t),e=t.pendingProps;var i=Mr(t,Ie.current);Dr(t,n),i=Bc(null,t,r,e,i,n);var s=zc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(s=!0,Ra(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lc(t),i.updater=uo,t.stateNode=i,i._reactInternals=t,yu(t,r,e,n),t=Su(null,t,r,!0,s,n)):(t.tag=0,ee&&s&&Rc(t),Le(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$0(r),e=yt(r,e),i){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Nh(null,t,r,e,n);break e;case 11:t=Rh(null,t,r,e,n);break e;case 14:t=jh(null,t,r,yt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),_u(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Nh(e,t,r,i,n);case 3:e:{if(Gm(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Sm(e,t),Da(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wr(Error(R(423)),t),t=Ph(e,t,r,n,i);break e}else if(r!==i){i=Wr(Error(R(424)),t),t=Ph(e,t,r,n,i);break e}else for(et=pn(t.stateNode.containerInfo.firstChild),tt=t,ee=!0,bt=null,n=wm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fr(),r===i){t=Gt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return bm(t),e===null&&mu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,cu(r,i)?a=null:s!==null&&cu(r,s)&&(t.flags|=32),Km(e,t),Le(e,t,a,n),t.child;case 6:return e===null&&mu(t),null;case 13:return Jm(e,t,n);case 4:return $c(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Br(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Rh(e,t,r,i,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Y(Pa,r._currentValue),r._currentValue=a,s!==null)if(xt(s.value,a)){if(s.children===i.children&&!qe.current){t=Gt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vu(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(R(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),vu(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Le(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Dr(t,n),i=dt(i),r=r(i),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,i=yt(r,t.pendingProps),i=yt(r.type,i),jh(e,t,r,i,n);case 15:return Hm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),ha(e,t),t.tag=1,Ke(r)?(e=!0,Ra(t)):e=!1,Dr(t,n),zm(t,r,i),yu(t,r,i,n),Su(null,t,r,!0,e,n);case 19:return Ym(e,t,n);case 22:return qm(e,t,n)}throw Error(R(156,t.tag))};function hv(e,t){return Mp(e,t)}function L0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new L0(e,t,n,r)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $0(e){if(typeof e=="function")return Xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gc)return 11;if(e===yc)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ma(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Xc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case mr:return zn(n.children,i,s,t);case vc:a=8,i|=8;break;case zl:return e=ut(12,n,t,i|2),e.elementType=zl,e.lanes=s,e;case Wl:return e=ut(13,n,t,i),e.elementType=Wl,e.lanes=s,e;case Vl:return e=ut(19,n,t,i),e.elementType=Vl,e.lanes=s,e;case bp:return fo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _p:a=10;break e;case Sp:a=9;break e;case gc:a=11;break e;case yc:a=14;break e;case tn:a=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=ut(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function zn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function fo(e,t,n,r){return e=ut(22,e,r,t),e.elementType=bp,e.lanes=n,e.stateNode={isHidden:!1},e}function Sl(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function bl(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,i,s,a,o,l){return e=new U0(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(s),e}function M0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fv(e){if(!e)return Sn;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ke(n))return fm(e,n,t)}return t}function pv(e,t,n,r,i,s,a,o,l){return e=Zc(n,r,!0,e,i,s,a,o,l),e.context=fv(null),n=e.current,r=$e(),i=gn(n),s=Vt(r,i),s.callback=t??null,mn(n,s,i),e.current.lanes=i,ds(e,i,r),Ge(e,r),e}function po(e,t,n,r){var i=t.current,s=$e(),a=gn(i);return n=fv(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(i,t,a),e!==null&&(kt(e,i,a,s),ua(e,i,a)),a}function za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ed(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function F0(){return null}var mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function td(e){this._internalRoot=e}mo.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));po(e,t,null,null)};mo.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){po(null,e,null,null)}),t[qt]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=qp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Gp(e)}};function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function B0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=za(a);s.call(u)}}var a=pv(t,r,e,0,null,!1,!1,"",Wh);return e._reactRootContainer=a,e[qt]=a.current,zi(e.nodeType===8?e.parentNode:e),Jn(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=za(l);o.call(u)}}var l=Zc(e,0,!1,null,null,!1,!1,"",Wh);return e._reactRootContainer=l,e[qt]=l.current,zi(e.nodeType===8?e.parentNode:e),Jn(function(){po(t,l,n,r)}),l}function go(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=za(a);o.call(l)}}po(t,a,e,i)}else a=B0(n,t,e,i,r);return za(a)}Vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wi(t.pendingLanes);n!==0&&(Sc(t,n|1),Ge(t,fe()),!(V&6)&&(Vr=fe()+500,kn()))}break;case 13:Jn(function(){var r=Kt(e,1);if(r!==null){var i=$e();kt(r,e,1,i)}}),ed(e,1)}};bc=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=$e();kt(t,e,134217728,n)}ed(e,134217728)}};Hp=function(e){if(e.tag===13){var t=gn(e),n=Kt(e,t);if(n!==null){var r=$e();kt(n,e,t,r)}ed(e,t)}};qp=function(){return q};Kp=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};eu=function(e,t,n){switch(t){case"input":if(Kl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ao(r);if(!i)throw Error(R(90));kp(r),Kl(r,i)}}}break;case"textarea":Tp(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};Ap=Jc;Dp=Jn;var z0={usingClientEntryPoint:!1,Events:[fs,wr,ao,Np,Pp,Jc]},fi={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$p(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{no=Gs.inject(W0),$t=Gs}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(t))throw Error(R(200));return M0(e,t,null,n)};rt.createRoot=function(e,t){if(!nd(e))throw Error(R(299));var n=!1,r="",i=mv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,null,n,!1,r,i),e[qt]=t.current,zi(e.nodeType===8?e.parentNode:e),new td(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=$p(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Jn(e)};rt.hydrate=function(e,t,n){if(!vo(t))throw Error(R(200));return go(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!nd(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=mv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=pv(t,null,e,1,n??null,i,!1,s,a),e[qt]=t.current,zi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new mo(t)};rt.render=function(e,t,n){if(!vo(t))throw Error(R(200));return go(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!vo(e))throw Error(R(40));return e._reactRootContainer?(Jn(function(){go(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};rt.unstable_batchedUpdates=Jc;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vo(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return go(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(e){console.error(e)}}vv(),vp.exports=rt;var V0=vp.exports,Vh=V0;Fl.createRoot=Vh.createRoot,Fl.hydrateRoot=Vh.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}var cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cn||(cn={}));const Hh="popstate";function H0(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Au("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wa(i)}return K0(t,n,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q0(){return Math.random().toString(36).substr(2,8)}function qh(e,t){return{usr:e.state,key:e.key,idx:t}}function Au(e,t,n,r){return n===void 0&&(n=null),Qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yr(t):t,{state:n,key:t&&t.key||r||q0()})}function Wa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function K0(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=cn.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Qi({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=cn.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:o,location:y.location,delta:g})}function h(_,g){o=cn.Push;let v=Au(y.location,_,g);u=c()+1;let w=qh(v,u),S=y.createHref(v);try{a.pushState(w,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&l&&l({action:o,location:y.location,delta:1})}function m(_,g){o=cn.Replace;let v=Au(y.location,_,g);u=c();let w=qh(v,u),S=y.createHref(v);a.replaceState(w,"",S),s&&l&&l({action:o,location:y.location,delta:0})}function f(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:Wa(_);return v=v.replace(/ $/,"%20"),oe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return e(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hh,d),l=_,()=>{i.removeEventListener(Hh,d),l=null}},createHref(_){return t(i,_)},createURL:f,encodeLocation(_){let g=f(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(_){return a.go(_)}};return y}var Kh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kh||(Kh={}));function G0(e,t,n){return n===void 0&&(n="/"),J0(e,t,n)}function J0(e,t,n,r){let i=typeof t=="string"?Yr(t):t,s=Hr(i.pathname||"/",n);if(s==null)return null;let a=gv(e);Y0(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=o_(s);o=s_(a[l],u)}return o}function gv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:r_(u,s.index),routesMeta:c})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of yv(s.path))i(s,a,l)}),t}function yv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=yv(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Y0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:i_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q0=/^:[\w-]+$/,X0=3,Z0=2,e_=1,t_=10,n_=-2,Gh=e=>e==="*";function r_(e,t){let n=e.split("/"),r=n.length;return n.some(Gh)&&(r+=n_),t&&(r+=Z0),n.filter(i=>!Gh(i)).reduce((i,s)=>i+(Q0.test(s)?X0:s===""?e_:t_),r)}function i_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function s_(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=Du({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:wn([s,d.pathname]),pathnameBase:h_(wn([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=wn([s,d.pathnameBase]))}return a}function Du(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=a_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const f=o[d];return m&&!f?u[h]=void 0:u[h]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function a_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function o_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u_=e=>l_.test(e);function c_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Yr(e):e,s;if(n)if(u_(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),rd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Jh(n.substring(1),"/"):s=Jh(n,t)}else s=t;return{pathname:s,search:f_(r),hash:p_(i)}}function Jh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function El(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function id(e,t){let n=d_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sd(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Yr(e):(i=Qi({},e),oe(!i.pathname||!i.pathname.includes("?"),El("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),El("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),El("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=c_(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wn=e=>e.join("/").replace(/\/\/+/g,"/"),h_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wv=["post","put","patch","delete"];new Set(wv);const v_=["get",...wv];new Set(v_);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}const yo=x.createContext(null),_v=x.createContext(null),Yt=x.createContext(null),wo=x.createContext(null),xn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Sv=x.createContext(null);function g_(e,t){let{relative:n}=t===void 0?{}:t;Qr()||oe(!1);let{basename:r,navigator:i}=x.useContext(Yt),{hash:s,pathname:a,search:o}=_o(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:wn([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Qr(){return x.useContext(wo)!=null}function Xr(){return Qr()||oe(!1),x.useContext(wo).location}function bv(e){x.useContext(Yt).static||x.useLayoutEffect(e)}function ms(){let{isDataRoute:e}=x.useContext(xn);return e?j_():y_()}function y_(){Qr()||oe(!1);let e=x.useContext(yo),{basename:t,future:n,navigator:r}=x.useContext(Yt),{matches:i}=x.useContext(xn),{pathname:s}=Xr(),a=JSON.stringify(id(i,n.v7_relativeSplatPath)),o=x.useRef(!1);return bv(()=>{o.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=sd(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wn([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,s,e])}function _o(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Yt),{matches:i}=x.useContext(xn),{pathname:s}=Xr(),a=JSON.stringify(id(i,r.v7_relativeSplatPath));return x.useMemo(()=>sd(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function w_(e,t){return __(e,t)}function __(e,t,n,r){Qr()||oe(!1);let{navigator:i}=x.useContext(Yt),{matches:s}=x.useContext(xn),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Xr(),c;if(t){var d;let _=typeof t=="string"?Yr(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||oe(!1),c=_}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let f=G0(e,{pathname:m}),y=x_(f&&f.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:wn([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:wn([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return t&&y?x.createElement(wo.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:cn.Pop}},y):y}function S_(){let e=R_(),t=m_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const b_=x.createElement(S_,null);class E_ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(xn.Provider,{value:this.props.routeContext},x.createElement(Sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k_(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(yo);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(xn.Provider,{value:t},r)}function x_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||oe(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=n,f=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let m,f=!1,y=null,_=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||b_,l&&(u<0&&h===0?(N_("route-fallback"),f=!0,_=null):u===h&&(f=!0,_=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),v=()=>{let w;return m?w=y:f?w=_:d.route.Component?w=x.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,x.createElement(k_,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(E_,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Ev=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ev||{}),kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kv||{});function T_(e){let t=x.useContext(yo);return t||oe(!1),t}function O_(e){let t=x.useContext(_v);return t||oe(!1),t}function C_(e){let t=x.useContext(xn);return t||oe(!1),t}function xv(e){let t=C_(),n=t.matches[t.matches.length-1];return n.route.id||oe(!1),n.route.id}function R_(){var e;let t=x.useContext(Sv),n=O_(),r=xv();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function j_(){let{router:e}=T_(Ev.UseNavigateStable),t=xv(kv.UseNavigateStable),n=x.useRef(!1);return bv(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xi({fromRouteId:t},s)))},[e,t])}const Yh={};function N_(e,t,n){Yh[e]||(Yh[e]=!0)}function P_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tv(e){let{to:t,replace:n,state:r,relative:i}=e;Qr()||oe(!1);let{future:s,static:a}=x.useContext(Yt),{matches:o}=x.useContext(xn),{pathname:l}=Xr(),u=ms(),c=sd(t,id(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return x.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function vt(e){oe(!1)}function A_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=cn.Pop,navigator:s,static:a=!1,future:o}=e;Qr()&&oe(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:a,future:Xi({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Yr(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:f="default"}=r,y=x.useMemo(()=>{let _=Hr(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:m,key:f},navigationType:i}},[l,c,d,h,m,f,i]);return y==null?null:x.createElement(Yt.Provider,{value:u},x.createElement(wo.Provider,{children:n,value:y}))}function Qh(e){let{children:t,location:n}=e;return w_(Iu(t),n)}new Promise(()=>{});function Iu(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Iu(r.props.children,s));return}r.type!==vt&&oe(!1),!r.props.index||!r.props.children||oe(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Iu(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}function Ov(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function D_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I_(e,t){return e.button===0&&(!t||t==="_self")&&!D_(e)}const L_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],U_="6";try{window.__reactRouterVersion=U_}catch{}const M_=x.createContext({isTransitioning:!1}),F_="startTransition",Xh=Ay[F_];function B_(e){let{basename:t,children:n,future:r,window:i}=e,s=x.useRef();s.current==null&&(s.current=H0({window:i,v5Compat:!0}));let a=s.current,[o,l]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=x.useCallback(d=>{u&&Xh?Xh(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.useEffect(()=>P_(r),[r]),x.createElement(A_,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=Ov(t,L_),{basename:m}=x.useContext(Yt),f,y=!1;if(typeof u=="string"&&W_.test(u)&&(f=u,z_))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=Hr(S.pathname,m);S.origin===w.origin&&T!=null?u=T+S.search+S.hash:y=!0}catch{}let _=g_(u,{relative:i}),g=H_(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function v(w){r&&r(w),w.defaultPrevented||g(w)}return x.createElement("a",Va({},h,{href:f||_,onClick:y||s?r:v,ref:n,target:l}))}),nr=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=t,d=Ov(t,$_),h=_o(l,{relative:d.relative}),m=Xr(),f=x.useContext(_v),{navigator:y,basename:_}=x.useContext(Yt),g=f!=null&&q_(h)&&u===!0,v=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&_&&(S=Hr(S,_)||S);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(T)==="/",b=S!=null&&(S===v||!a&&S.startsWith(v)&&S.charAt(v.length)==="/"),C={isActive:E,isPending:b,isTransitioning:g},A=E?r:void 0,P;typeof s=="function"?P=s(C):P=[s,E?"active":null,b?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(C):o;return x.createElement(cr,Va({},d,{"aria-current":A,className:P,ref:n,style:G,to:l,viewTransition:u}),typeof c=="function"?c(C):c)});var Lu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lu||(Lu={}));var Zh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zh||(Zh={}));function V_(e){let t=x.useContext(yo);return t||oe(!1),t}function H_(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=ms(),u=Xr(),c=_o(e,{relative:a});return x.useCallback(d=>{if(I_(d,n)){d.preventDefault();let h=r!==void 0?r:Wa(u)===Wa(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,r,i,n,e,s,a,o])}function q_(e,t){t===void 0&&(t={});let n=x.useContext(M_);n==null&&oe(!1);let{basename:r}=V_(Lu.useViewTransitionState),i=_o(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Du(i.pathname,a)!=null||Du(i.pathname,s)!=null}function So(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function K_(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}const G_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ad extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class J_ extends ad{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ef extends ad{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tf extends ad{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $u;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($u||($u={}));class Y_{constructor(t,{headers:n={},customFetch:r,region:i=$u.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=G_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K_(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const f=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,f.searchParams.set("forceFunctionRegion",m));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let _=c;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),c?(_=a.signal,c.addEventListener("abort",()=>a.abort())):_=a.signal);const g=yield this.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:_}).catch(T=>{throw new J_(T)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new ef(g);if(!g.ok)throw new tf(g);let w=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield g.json():w==="application/octet-stream"||w==="application/pdf"?S=yield g.blob():w==="text/event-stream"?S=g:w==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof tf||o instanceof ef?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var Q_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},X_=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,u=s.status,c=s.statusText;if(s.ok){var d,h;if(n.method!=="HEAD"){var m;const g=await s.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const y=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var f;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(o=[],a=null,u=200,c="OK")}catch{s.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(f=a.details)===null||f===void 0)&&f.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Q_(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var u,c,d,h;const f=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(d=s==null?void 0:s.name)!==null&&d!==void 0?d:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${f}`,y&&(o+=` (${y})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var m;o=(m=s==null?void 0:s.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Z_=class extends X_{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const nf=new RegExp("[,()]");var dr=class extends Z_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&nf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&nf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},eS=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new dr({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new dr({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new dr({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new dr({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new dr({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},tS=class Cv{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),d=r&&Object.values(n).some(c);d?(o="POST",u=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,f])=>f!==void 0).map(([m,f])=>[m,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([m,f])=>{l.searchParams.append(m,f)})):(o="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new dr({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class nS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rS="2.93.3",iS=`realtime-js/${rS}`,sS="1.0.0",Rv="2.0.0",rf=Rv,Uu=1e4,aS=1e3,oS=100;var rn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rn||(rn={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var St;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(St||(St={}));var Mu;(function(e){e.websocket="websocket"})(Mu||(Mu={}));var Dn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dn||(Dn={}));class lS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(m),y=0;f.setUint8(y++,this.KINDS.userBroadcastPush),f.setUint8(y++,l.length),f.setUint8(y++,o.length),f.setUint8(y++,a.length),f.setUint8(y++,u.length),f.setUint8(y++,d.length),f.setUint8(y++,n),Array.from(l,g=>f.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>f.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>f.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>f.setUint8(y++,g.charCodeAt(0))),Array.from(d,g=>f.setUint8(y++,g.charCodeAt(0)));var _=new Uint8Array(m.byteLength+r.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(r),m.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,f={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(f.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class jv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const sf=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=uS(a,e,t,i),s),{}):{}},uS=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?Nv(s,a):Fu(a)},Nv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fS(t,n)}switch(e){case J.bool:return cS(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return dS(t);case J.json:case J.jsonb:return hS(t);case J.timestamp:return pS(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Fu(t);default:return Fu(t)}},Fu=e=>e,cS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},fS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Nv(t,o))}return e},pS=e=>typeof e=="string"?e.replace(" ","T"):e,Pv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kl{constructor(t,n,r={},i=Uu){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var af;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(af||(af={}));class Pi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Pi.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pi.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(s,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=s[u];if(d){const h=c.map(_=>_.presence_ref),m=d.map(_=>_.presence_ref),f=c.filter(_=>m.indexOf(_.presence_ref)<0),y=d.filter(_=>h.indexOf(_.presence_ref)<0);f.length>0&&(o[u]=f),y.length>0&&(l[u]=y)}else o[u]=c}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[o].unshift(...h)}r(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(of||(of={}));var Ai;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ai||(Ai={}));var Ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Tr{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kl(this,St.join,this.params,this.timeout),this.rejoinTimer=new jv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Pi(this),this.broadcastEndpointURL=Pv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ai.PRESENCE]&&this.bindings[Ai.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ft.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ft.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ft.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(f=y==null?void 0:y.length)!==null&&f!==void 0?f:0,g=[];for(let v=0;v<_;v++){const w=y[v],{filter:{event:S,schema:T,table:E,filter:b}}=w,C=m&&m[v];if(C&&C.event===S&&Tr.isFilterValueEqual(C.schema,T)&&Tr.isFilterValueEqual(C.table,E)&&Tr.isFilterValueEqual(C.filter,b))g.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=we.errored,t==null||t(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ft.SUBSCRIBED);return}}).receive("error",m=>{this.state=we.errored,t==null||t(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===we.joined&&t===Ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new kl(this,St.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kl(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>oS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=St;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var f,y,_;return((f=m.filter)===null||f===void 0?void 0:f.event)==="*"||((_=(y=m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var f,y,_,g,v,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,T=(f=m.filter)===null||f===void 0?void 0:f.event;return S&&((y=n.ids)===null||y===void 0?void 0:y.includes(S))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const f=h.data,{schema:y,table:_,commit_timestamp:g,type:v,errors:w}=f;h=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(f))}m.callback(h,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Tr.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(St.close,{},t)}_onError(t){this._on(St.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sf(t.columns,t.old_record)),n}}const xl=()=>{},Js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mS=[1e3,2e3,5e3,1e4],vS=1e4,gS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yS{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uu,this.transport=null,this.heartbeatIntervalMs=Js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xl,this.ref=0,this.reconnectTimer=null,this.vsn=rf,this.logger=xl,this.conn=null,this.sendBuffer=[],this.serializer=new lS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Mu.websocket}`,this.httpEndpoint=Pv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return Dn.Connecting;case rn.open:return Dn.Open;case rn.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Tr(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Js.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===rn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rn.open||this.conn.readyState===rn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(St.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:iS};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,o,l,u,c,d,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Uu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Js.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:xl,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:rf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:f=>mS[f-1]||vS,this.vsn){case sS:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,y)=>y(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(f,y)=>y(JSON.parse(f));break;case Rv:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Zi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wS(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function _S(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function SS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=wS(e.baseUrl,r,i),l=await _S(e.auth),u=await t(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,f=m==null?void 0:m.error;throw new Zi((f==null?void 0:f.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:f==null?void 0:f.type,icebergCode:f==null?void 0:f.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ys(e){return e.join("")}var bS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ys(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`}),!0}catch(t){if(t instanceof Zi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Zi&&n.status===409)return;throw n}}};function rr(e){return e.join("")}var ES=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Zi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Zi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},kS=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=SS({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new bS(this.client,t),this.tableOps=new ES(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},bo=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Eo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Qs=class extends bo{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Av=class extends bo{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const xS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bu=e=>{if(Array.isArray(e))return e.map(n=>Bu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Bu(r)}),t},OS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function CS(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RS(e){var t=CS(e,"string");return es(t)=="symbol"?t:t+""}function jS(e,t,n){return(t=RS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(n),!0).forEach(function(r){jS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const uf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},NS=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Qs(uf(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";t(new Qs(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";t(new Qs(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";t(new Qs(i.statusText||`HTTP ${s} error`,s,a,r))}}else t(new Av(uf(e),e,r))},PS=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?M(M({},i),n):(TS(r)?(i.headers=M({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),M(M({},i),n))};async function pi(e,t,n,r,i,s,a){return new Promise((o,l)=>{e(n,PS(t,r,i,s)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>NS(u,l,r,a))})}function Dv(e="storage"){return{get:async(t,n,r,i)=>pi(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>pi(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>pi(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>pi(t,"HEAD",n,M(M({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>pi(t,"DELETE",n,i,s,r,e)}}const AS=Dv("storage"),{get:ts,post:wt,put:zu,head:DS,remove:od}=AS,Ze=Dv("vectors");var Zr=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=xS(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Eo(n))return{data:null,error:n};throw n}}},IS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Eo(t))return{data:null,error:t};throw t}}};let Iv;Iv=Symbol.toStringTag;var LS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Iv]="BlobDownloadBuilder",this.promise=null}asStream(){return new IS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Eo(t))return{data:null,error:t};throw t}}};const $S={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var US=class extends Zr{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=M(M({},cf),r);let o=M(M({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=M(M({},o),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=await(e=="PUT"?zu:wt)(i.fetch,`${i.url}/object/${c}`,s,M({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=M({upsert:cf.upsert},r),c=M(M({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:s,fullPath:(await zu(i.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=M({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await wt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new bo("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await wt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await wt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await wt(r.fetch,`${r.url}/object/sign/${i}`,M({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await wt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>M(M({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(e),a=()=>ts(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new LS(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Bu(await ts(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await DS(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Eo(r)&&r instanceof Av){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await od(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=M(M(M({},$S),t),{},{prefix:e||""});return await wt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=M({},e);return await wt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const MS="2.93.3",vs={"X-Client-Info":`storage-js/${MS}`};var FS=class extends Zr{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=M(M({},vs),t);super(s,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await ts(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ts(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await wt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await zu(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await wt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await od(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},BS=class extends Zr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},vs),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await wt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await ts(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await od(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!OS(e))throw new bo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new kS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},zS=class extends Zr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},vs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ze.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ze.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},WS=class extends Zr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},vs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},VS=class extends Zr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},vs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ze.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},HS=class extends VS{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qS(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},qS=class extends zS{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new KS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},KS=class extends WS{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},GS=class extends FS{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new US(this.url,this.headers,e,this.fetch)}get vectors(){return new HS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BS(this.url+"/iceberg",this.headers,this.fetch)}};const Lv="2.93.3",hr=30*1e3,Wu=3,Tl=Wu*hr,JS="http://localhost:9999",YS="supabase.auth.token",QS={"X-Client-Info":`gotrue-js/${Lv}`},Vu="X-Supabase-Api-Version",$v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZS=10*60*1e3;class ns extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eb extends ns{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tb(e){return D(e)&&e.name==="AuthApiError"}class In extends ns{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qt extends ns{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Qe extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ol(e){return D(e)&&e.name==="AuthSessionMissingError"}class ir extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends Qt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nb(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class df extends Qt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rb extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hu extends Qt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cl(e){return D(e)&&e.name==="AuthRetryableFetchError"}class hf extends Qt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qu extends Qt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ff=` 	
\r=`.split(""),ib=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ff.length;t+=1)e[ff[t].charCodeAt(0)]=-2;for(let t=0;t<Ha.length;t+=1)e[Ha[t].charCodeAt(0)]=t;return e})();function pf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ha[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ha[r]),t.queuedBits-=6}}function Uv(e,t,n){const r=ib[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mf(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{ob(a,r,n)};for(let a=0;a<e.length;a+=1)Uv(e.charCodeAt(a),i,s);return t.join("")}function sb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ab(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sb(r,t)}}function ob(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Lr(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Uv(e.charCodeAt(i),n,r);return new Uint8Array(t)}function lb(e){const t=[];return ab(e,n=>t.push(n)),new Uint8Array(t)}function Mn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>pf(i,n,r)),pf(null,n,r),t.join("")}function ub(e){return Math.round(Date.now()/1e3)+e}function cb(){return Symbol("auth-callback")}const Oe=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},Mv=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function db(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Fv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Te=async(e,t)=>{await e.removeItem(t)};class ko{constructor(){this.promise=new ko.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ko.promiseConstructor=Promise;function ea(e){const t=e.split(".");if(t.length!==3)throw new qu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XS.test(t[r]))throw new qu("JWT not in base64url format");return{header:JSON.parse(mf(t[0])),payload:JSON.parse(mf(t[1])),signature:Lr(t[2]),raw:{header:t[0],payload:t[1]}}}async function fb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pb(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function mb(e){return("0"+e.toString(16)).substr(-2)}function vb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,mb).join("")}async function gb(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function yb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await gb(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(e,t,n=!1){const r=vb();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fr(e,`${t}-code-verifier`,i);const s=await yb(r);return[s,r===s?"plain":"s256"]}const wb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _b(e){const t=e.headers.get(Vu);if(!t||!t.match(wb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(e){if(!Eb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kb(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function vf(e){return JSON.parse(JSON.stringify(e))}const An=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xb=[502,503,504];async function gf(e){var t;if(!hb(e))throw new Hu(An(e),0);if(xb.includes(e.status))throw new Hu(An(e),e.status);let n;try{n=await e.json()}catch(s){throw new In(An(s),s)}let r;const i=_b(e);if(i&&i.getTime()>=$v["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hf(An(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new hf(An(n),e.status,n.weak_password.reasons);throw new eb(An(n),e.status||500,r)}const Tb=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function U(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Vu]||(s[Vu]=$v["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ob(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ob(e,t,n,r,i,s){const a=Tb(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Hu(An(l),0)}if(o.ok||await gf(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await gf(l)}}function gt(e){var t;let n=null;jb(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ub(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function yf(e){const t=gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function on(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cb(e){return{data:e,error:null}}function Rb(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=So(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function wf(e){return e}function jb(e){return e.access_token&&e.refresh_token&&e.expires_in}const jl=["global","local","others"];class Nb{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Fv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=jl[0]){if(jl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jl.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=So(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:on})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wf});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(f=>{const y=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(f.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ar(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:on})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ar(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:on})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ar(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ar(t.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ar(t.userId),ar(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wf});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(f=>{const y=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(f.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}}function _f(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const or={debug:!!(globalThis&&Mv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pb extends Bv{}async function Ab(e,t,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ib(e){return parseInt(e,16)}function Lb(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function $b(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zv(e.address),f=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",_=`${f} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}g+=v}return`${_}
${g}`}class ve extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class qa extends ve{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ub({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Wv(a)){if(s.rp.id!==a)return new ve({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Mb({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Wv(r)){if(n.rpId!==r)return new ve({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Fb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Bb=new Fb;function zb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=So(e,["challenge","user","excludeCredentials"]),s=Lr(t).buffer,a=Object.assign(Object.assign({},n),{id:Lr(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Lr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Wb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=So(e,["challenge","allowCredentials"]),i=Lr(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Lr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Vb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mn(new Uint8Array(i.authenticatorData)),clientDataJSON:Mn(new Uint8Array(i.clientDataJSON)),signature:Mn(new Uint8Array(i.signature)),userHandle:i.userHandle?Mn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Sf(){var e,t;return!!(Oe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qb(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:Ub({error:t,options:e})}}}async function Kb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:Mb({error:t,options:e})}}}const Gb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Jb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ka(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const o=r[s];t(o)?r[s]=Ka(o,a):r[s]=Ka(a)}else r[s]=a}return r}function Yb(e,t){return Ka(Gb,e,t||{})}function Qb(e,t){return Ka(Jb,e,t||{})}class Xb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=i??Bb.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const m=(await this.client.getUser()).data.user,f=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${f}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Yb(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await qb({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=Qb(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await Kb(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new In("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!Sf())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new In("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!Sf())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new In("Unexpected error in register",a)}}}}Db();const Zb={url:JS,storageKey:YS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function bf(e,t,n){return await n()}const lr={};class rs{get jwks(){var t,n;return(n=(t=lr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){lr[this.storageKey]=Object.assign(Object.assign({},lr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=lr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){lr[this.storageKey]=Object.assign(Object.assign({},lr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Zb),t);if(this.storageKey=s.storageKey,this.instanceID=(n=rs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Oe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Fv(s.fetch),this.lock=s.lock||bf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Oe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ab:this.lock=bf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Mv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_f(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_f(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Oe()&&(n=db(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Oe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),nb(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?this._returnResult({error:n}):this._returnResult({error:new In("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:gt}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,f=null;this.flowType==="pkce"&&([m,f]=await sr(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:f},xform:gt})}else if("phone"in t){const{phone:c,password:d,options:h}=t;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yf})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yf})}else throw new Xs("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new ir;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,o,l,u,c,d,h;let m,f;if("message"in t)m=t.message,f=t.signature;else{const{chain:y,wallet:_,statement:g,options:v}=t;let w;if(Oe())if(typeof _=="object")w=_;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=_}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),T=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=zv(T[0]);let b=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const A=await w.request({method:"eth_chainId"});b=Ib(A)}const C={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:b,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=$b(C),f=await w.request({method:"personal_sign",params:[Lb(m),E]})}try{const{data:y,error:_}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:f},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gt});if(_)throw _;if(!y||!y.session||!y.user){const g=new ir;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(D(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,i,s,a,o,l,u,c,d,h,m;let f,y;if("message"in t)f=t.message,y=t.signature;else{const{chain:_,wallet:g,statement:v,options:w}=t;let S;if(Oe())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),v?{statement:v}:null));let b;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")b=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)b=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)f=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),y=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${T.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(f),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:_,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Mn(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:gt});if(g)throw g;if(!_||!_.session||!_.user){const v=new ir;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(D(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new rb;const{data:s,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gt});if(await Te(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new ir;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new ir;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await sr(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Xs("You must provide either an email or phone number.")}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await sr(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Cb});return!((s=u.data)===null||s===void 0)&&s.url&&Oe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qe;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(D(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Xs("You must provide either an email or phone number and a type")}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Tl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Rn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Rl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=kb(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:on}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qe}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:on})})}catch(n){if(D(n))return Ol(n)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Qe;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await sr(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:on});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qe;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=ea(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qe;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(D(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Oe())throw new Zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new df("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new df("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!a||!u)throw new Zs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const f=h-d;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,c);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!Ol(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(tb(o)&&(o.status===404||o.status===401||o.status===403)||Ol(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=cb(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,c;const{data:d,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Oe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(D(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gt}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ir}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pb(async i=>(i>0&&await fb(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Cl(s)&&Date.now()+a-r<hr})}catch(r){if(this._debug(n,"error",r),D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Oe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await fr(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Rl()}else if(i&&!i.user&&!i.user){const a=await Rn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Te(this.storage,this.storageKey+"-user"),await fr(this.storage,this.storageKey,i)):i.user=Rl()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Tl}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Cl(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ko;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Qe;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),D(s)){const a={data:null,error:s};return Cl(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=vf(i);await fr(this.storage,this.storageKey,s)}else{const i=vf(n);await fr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hr}ms, refresh threshold is ${Wu} ticks`),i<=Wu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await sr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vb(t.webauthn.credential_response):Hb(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zb(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Wb(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:m}=ea(t);let f=null;m.aal&&(f=m.aal);let y=f;const{data:{user:_},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((r=(n=_==null?void 0:_.factors)===null||n===void 0?void 0:n.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const w=m.amr||[];return{data:{currentLevel:f,nextLevel:y,currentAuthenticationMethods:w},error:null}}catch(m){if(D(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ea(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Qe});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Qe});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qe})})}catch(t){if(D(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qe})})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+ZS>i)return r;const{data:s,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:f}=await this.getSession();if(f||!m.session)return this._returnResult({data:null,error:f});r=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=ea(r);n!=null&&n.allowExpired||Sb(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const c=bb(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,lb(`${o}.${l}`)))throw new qu("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}}rs.nextInstanceID={};const eE=rs,tE="2.93.3";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const nE={"X-Client-Info":`supabase-js-${Si}/${tE}`},rE={headers:nE},iE={schema:"public"},sE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aE={};function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function oE(e,t){if(is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lE(e){var t=oE(e,"string");return is(t)=="symbol"?t:t+""}function uE(e,t,n){return(t=lE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ef(Object(n),!0).forEach(function(r){uE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const cE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dE=()=>Headers,hE=(e,t,n)=>{const r=cE(n),i=dE();return async(s,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,ce(ce({},a),{},{headers:u}))}};function fE(e){return e.endsWith("/")?e:e+"/"}function pE(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:ce(ce({},l),i),auth:ce(ce({},u),s),realtime:ce(ce({},c),a),storage:{},global:ce(ce(ce({},d),o),{},{headers:ce(ce({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function mE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vE=class extends eE{constructor(e){super(e)}},gE=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=mE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:iE,realtime:aE,auth:ce(ce({},sE),{},{storageKey:a}),global:rE},l=pE(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=hE(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ce({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new tS(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new GS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vE({url:this.authUrl.href,headers:ce(ce({},h),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yS(this.realtimeUrl.href,ce(ce({},e),{},{params:ce(ce({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const yE=(e,t,n)=>new gE(e,t,n);function wE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}wE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _E=void 0,SE=void 0,jn=yE(_E,SE),Vv=x.createContext(),gs=()=>{const e=x.useContext(Vv);if(!e)throw new Error("useAuth doit tre utilis dans AuthProvider");return e},bE=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{jn.auth.getSession().then(({data:{session:c}})=>{n((c==null?void 0:c.user)??null),i(!1)});const{data:{subscription:u}}=jn.auth.onAuthStateChange((c,d)=>{n((d==null?void 0:d.user)??null)});return()=>u.unsubscribe()},[]);const l={user:t,signup:async(u,c,d)=>{const{data:h,error:m}=await jn.auth.signUp({email:u,password:c,options:{data:{username:d}}});if(m)throw m;const{error:f}=await jn.from("profiles").insert({id:h.user.id,username:d,email:u,created_at:new Date().toISOString()});f&&console.error("Erreur profil:",f);const{error:y}=await jn.from("user_data").insert({user_id:h.user.id,locations:[],settings:{nightStartTime:"22:00",nightEndTime:"07:00"},tasks:[],recurring_schedule:[]});return y&&console.error("Erreur donnes:",y),h.user},login:async(u,c)=>{const{data:d,error:h}=await jn.auth.signInWithPassword({email:u,password:c});if(h)throw h;return d.user},logout:async()=>{const{error:u}=await jn.auth.signOut();if(u)throw u},loading:r};return p.jsx(Vv.Provider,{value:l,children:!r&&e})};function EE({children:e}){const{user:t,loading:n}=gs();return n?p.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:p.jsx("div",{children:" Chargement..."})}):t?e:p.jsx(Tv,{to:"/login",replace:!0})}function kE(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(!1),{login:l}=gs(),u=ms(),c=async d=>{d.preventDefault(),o(!0),s("");try{await l(e,n),u("/dashboard")}catch(h){s(h.message)}finally{o(!1)}};return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-card",children:[p.jsx("h1",{children:" Connexion"}),p.jsxs("form",{onSubmit:c,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:d=>t(d.target.value),required:!0,placeholder:"ton@email.com"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Mot de passe"}),p.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),required:!0,placeholder:"Ton mot de passe"})]}),i&&p.jsx("div",{className:"error",children:i}),p.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?" Connexion...":"Se connecter"})]}),p.jsxs("p",{children:["Pas de compte ? ",p.jsx("a",{href:"/signup",children:"Inscris-toi"})]})]})})}function xE(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(""),[l,u]=x.useState(!1),{signup:c}=gs(),d=ms(),h=async m=>{m.preventDefault(),u(!0),o("");try{await c(e,n,i),d("/dashboard")}catch(f){o(f.message)}finally{u(!1)}};return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-card",children:[p.jsx("h1",{children:" Inscription"}),p.jsxs("form",{onSubmit:h,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nom d'utilisateur"}),p.jsx("input",{type:"text",value:i,onChange:m=>s(m.target.value),required:!0,placeholder:"tonpseudo"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:m=>t(m.target.value),required:!0,placeholder:"ton@email.com"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Mot de passe"}),p.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),required:!0,minLength:"6",placeholder:"Min 6 caractres"})]}),a&&p.jsx("div",{className:"error",children:a}),p.jsx("button",{type:"submit",disabled:l,className:"btn btn-primary",children:l?" Cration...":"S'inscrire"})]}),p.jsxs("p",{children:["Dj inscrit ? ",p.jsx("a",{href:"/login",children:"Connecte-toi"})]})]})})}function TE(){var t;const{user:e}=gs();return p.jsxs("div",{className:"dashboard-page",children:[p.jsxs("h1",{children:[" Bienvenue, ",((t=e==null?void 0:e.user_metadata)==null?void 0:t.username)||"utilisateur"," !"]}),p.jsx("p",{className:"subtitle",children:"Votre SmartCalendar personnel"}),p.jsxs("div",{className:"dashboard-grid",children:[p.jsxs(cr,{to:"/calendar",className:"dashboard-card card",children:[p.jsx("div",{className:"card-icon",children:""}),p.jsx("h3",{children:"Calendrier"}),p.jsx("p",{children:"Grez vos tches et vnements"})]}),p.jsxs(cr,{to:"/find-slot",className:"dashboard-card card",children:[p.jsx("div",{className:"card-icon",children:""}),p.jsx("h3",{children:"Trouver un crneau"}),p.jsx("p",{children:"Recherche intelligente de crneaux"})]}),p.jsxs(cr,{to:"/schedule",className:"dashboard-card card",children:[p.jsx("div",{className:"card-icon",children:""}),p.jsx("h3",{children:"Emploi du temps"}),p.jsx("p",{children:"Vos horaires rcurrents"})]}),p.jsxs(cr,{to:"/locations",className:"dashboard-card card",children:[p.jsx("div",{className:"card-icon",children:""}),p.jsx("h3",{children:"Mes lieux"}),p.jsx("p",{children:"Grez vos adresses"})]}),p.jsxs(cr,{to:"/settings",className:"dashboard-card card",children:[p.jsx("div",{className:"card-icon",children:""}),p.jsx("h3",{children:"Paramtres"}),p.jsx("p",{children:"Configuration de l'app"})]})]})]})}var Hv={exports:{}},OE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CE=OE,RE=CE;function qv(){}function Kv(){}Kv.resetWarningCache=qv;var jE=function(){function e(r,i,s,a,o,l){if(l!==RE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kv,resetWarningCache:qv};return n.PropTypes=n,n};Hv.exports=jE();var NE=Hv.exports;const O=eo(NE);function Gv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Gv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xo(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Gv(e))&&(r&&(r+=" "),r+=t);return r}const PE=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(e,n),s=Object.getOwnPropertyDescriptor(t,n);!AE(i,s)&&r||Object.defineProperty(e,n,s)},AE=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},DE=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},IE=(e,t)=>`/* Wrapped ${e}*/
${t}`,LE=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$E=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),UE=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=IE.bind(null,r,t.toString());Object.defineProperty(i,"name",$E),Object.defineProperty(e,"toString",{...LE,value:i})},ME=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const i of Reflect.ownKeys(t))PE(e,t,i,n);return DE(e,t),UE(e,t,r),e};var FE=ME,Ku={exports:{}},BE=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=Ns&&Ns.__awaiter||function(a,o,l,u){return new(l||(l=Promise))(function(c,d){function h(y){try{f(u.next(y))}catch(_){d(_)}}function m(y){try{f(u.throw(y))}catch(_){d(_)}}function f(y){y.done?c(y.value):new l(function(_){_(y.value)}).then(h,m)}f((u=u.apply(a,o||[])).next())})},r=Ns&&Ns.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(BE);function s(a,o="maxAge"){let l,u,c;const d=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const f=y=>n(this,void 0,void 0,function*(){c=i.default();const _=y[1][o]-Date.now();if(_<=0){a.delete(y[0]),c.resolve();return}return l=y[0],u=setTimeout(()=>{a.delete(y[0]),c&&c.resolve()},_),typeof u.unref=="function"&&u.unref(),c.promise});try{for(const y of a)yield f(y)}catch{}l=void 0}),h=()=>{l=void 0,u!==void 0&&(clearTimeout(u),u=void 0),c!==void 0&&(c.reject(void 0),c=void 0)},m=a.set.bind(a);return a.set=(f,y)=>{a.has(f)&&a.delete(f);const _=m(f,y);return l&&l===f&&h(),d(),_},d(),a}t.default=s,e.exports=s,e.exports.default=s})(Ku,Ku.exports);var zE=Ku.exports;const WE=FE,VE=zE,Nl=new WeakMap,Jv=new WeakMap,Ga=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&VE(n);const i=function(...s){const a=t?t(s):s[0],o=n.get(a);if(o)return o.data;const l=e.apply(this,s);return n.set(a,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return WE(i,e,{ignoreNonConfigurable:!0}),Jv.set(i,n),i};Ga.decorator=(e={})=>(t,n,r)=>{const i=t[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!Nl.has(this)){const s=Ga(i,e);return Nl.set(this,s),s}return Nl.get(this)}};Ga.clear=e=>{const t=Jv.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var HE=Ga;const Yv=eo(HE);function qE(e){return typeof e=="string"}function KE(e,t,n){return n.indexOf(e)===t}function GE(e){return e.toLowerCase()===e}function kf(e){return e.indexOf(",")===-1?e:e.split(",")}function Gu(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return Gu(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return Gu(n)}if(e.indexOf("-")===-1||!GE(e))return e;var i=e.split("-"),s=i[0],a=i[1],o=a===void 0?"":a;return"".concat(s,"-").concat(o.toUpperCase())}function JE(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,i=t.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],l=[],u=0,c=o;u<c.length;u++){var d=c[u];l=l.concat(kf(d))}var h=navigator.language,m=h&&kf(h);a=a.concat(l,m)}return r&&a.push(s),a.filter(qE).map(Gu).filter(KE)}var YE=Yv(JE,{cacheKey:JSON.stringify});function QE(e){return YE(e)[0]||null}var Qv=Yv(QE,{cacheKey:JSON.stringify});function Xt(e,t,n){return function(i,s){s===void 0&&(s=n);var a=e(i)+s;return t(a)}}function ys(e){return function(n){return new Date(e(n).getTime()-1)}}function ws(e,t){return function(r){return[e(r),t(r)]}}function te(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Tn(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function To(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function ei(e){var t=te(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var XE=Xt(te,ei,-100),Xv=Xt(te,ei,100),ld=ys(Xv),ZE=Xt(te,ld,-100),Zv=ws(ei,ld);function On(e){var t=te(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var eg=Xt(te,On,-10),ud=Xt(te,On,10),Oo=ys(ud),tg=Xt(te,Oo,-10),ng=ws(On,Oo);function ti(e){var t=te(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var rg=Xt(te,ti,-1),cd=Xt(te,ti,1),Co=ys(cd),ig=Xt(te,Co,-1),ek=ws(ti,Co);function dd(e,t){return function(r,i){i===void 0&&(i=t);var s=te(r),a=Tn(r)+i,o=new Date;return o.setFullYear(s,a,1),o.setHours(0,0,0,0),e(o)}}function Zn(e){var t=te(e),n=Tn(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var sg=dd(Zn,-1),hd=dd(Zn,1),_s=ys(hd),ag=dd(_s,-1),tk=ws(Zn,_s);function nk(e,t){return function(r,i){i===void 0&&(i=t);var s=te(r),a=Tn(r),o=To(r)+i,l=new Date;return l.setFullYear(s,a,o),l.setHours(0,0,0,0),e(l)}}function Ss(e){var t=te(e),n=Tn(e),r=To(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var rk=nk(Ss,1),fd=ys(rk),ik=ws(Ss,fd);function og(e){return To(_s(e))}var mi,X={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Or={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},sk=(mi={},mi[X.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],mi[X.HEBREW]=["he","he-IL"],mi[X.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],mi),pd=[0,1,2,3,4,5,6],Pl=new Map;function ak(e){return function(n,r){var i=n||Qv();Pl.has(i)||Pl.set(i,new Map);var s=Pl.get(i);return s.has(e)||s.set(e,new Intl.DateTimeFormat(i||void 0,e).format),s.get(e)(r)}}function ok(e){var t=new Date(e);return new Date(t.setHours(12))}function er(e){return function(t,n){return ak(e)(t,ok(n))}}var lk={day:"numeric"},uk={day:"numeric",month:"long",year:"numeric"},ck={month:"long"},dk={month:"long",year:"numeric"},hk={weekday:"short"},fk={weekday:"long"},pk={year:"numeric"},mk=er(lk),vk=er(uk),gk=er(ck),lg=er(dk),yk=er(hk),wk=er(fk),Ro=er(pk),_k=pd[0],Sk=pd[5],xf=pd[6];function ss(e,t){t===void 0&&(t=X.ISO_8601);var n=e.getDay();switch(t){case X.ISO_8601:return(n+6)%7;case X.ISLAMIC:return(n+1)%7;case X.HEBREW:case X.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function bk(e){var t=ei(e);return te(t)}function Ek(e){var t=On(e);return te(t)}function Ju(e,t){t===void 0&&(t=X.ISO_8601);var n=te(e),r=Tn(e),i=e.getDate()-ss(e,t);return new Date(n,r,i)}function kk(e,t){t===void 0&&(t=X.ISO_8601);var n=t===X.GREGORY?X.GREGORY:X.ISO_8601,r=Ju(e,t),i=te(e)+1,s,a;do s=new Date(i,0,n===X.ISO_8601?4:1),a=Ju(s,t),i-=1;while(e<a);return Math.round((r.getTime()-a.getTime())/(864e5*7))+1}function Wn(e,t){switch(e){case"century":return ei(t);case"decade":return On(t);case"year":return ti(t);case"month":return Zn(t);case"day":return Ss(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function xk(e,t){switch(e){case"century":return XE(t);case"decade":return eg(t);case"year":return rg(t);case"month":return sg(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function ug(e,t){switch(e){case"century":return Xv(t);case"decade":return ud(t);case"year":return cd(t);case"month":return hd(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Tk(e,t){switch(e){case"decade":return eg(t,-100);case"year":return rg(t,-10);case"month":return sg(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ok(e,t){switch(e){case"decade":return ud(t,100);case"year":return cd(t,10);case"month":return hd(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function cg(e,t){switch(e){case"century":return ld(t);case"decade":return Oo(t);case"year":return Co(t);case"month":return _s(t);case"day":return fd(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ck(e,t){switch(e){case"century":return ZE(t);case"decade":return tg(t);case"year":return ig(t);case"month":return ag(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Rk(e,t){switch(e){case"decade":return tg(t,-100);case"year":return ig(t,-10);case"month":return ag(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Tf(e,t){switch(e){case"century":return Zv(t);case"decade":return ng(t);case"year":return ek(t);case"month":return tk(t);case"day":return ik(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function jk(e,t,n){var r=[t,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Wn(e,r[0]),cg(e,r[1])]}function dg(e,t,n){return t===void 0&&(t=Ro),n.map(function(r){return t(e,r)}).join("  ")}function Nk(e,t,n){return dg(e,t,Zv(n))}function hg(e,t,n){return dg(e,t,ng(n))}function Pk(e){return e.getDay()===new Date().getDay()}function fg(e,t){t===void 0&&(t=X.ISO_8601);var n=e.getDay();switch(t){case X.ISLAMIC:case X.HEBREW:return n===Sk||n===xf;case X.ISO_8601:case X.GREGORY:return n===xf||n===_k;default:throw new Error("Unsupported calendar type.")}}var At="react-calendar__navigation";function Ak(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=r===void 0?lg:r,s=e.formatYear,a=s===void 0?Ro:s,o=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=c===void 0?"":c,h=e.navigationAriaLive,m=e.navigationLabel,f=e.next2AriaLabel,y=f===void 0?"":f,_=e.next2Label,g=_===void 0?"":_,v=e.nextAriaLabel,w=v===void 0?"":v,S=e.nextLabel,T=S===void 0?"":S,E=e.prev2AriaLabel,b=E===void 0?"":E,C=e.prev2Label,A=C===void 0?"":C,P=e.prevAriaLabel,G=P===void 0?"":P,ne=e.prevLabel,be=ne===void 0?"":ne,pe=e.setActiveStartDate,Ot=e.showDoubleView,K=e.view,Ct=e.views,j=Ct.indexOf(K)>0,$=K!=="century",L=xk(K,t),B=$?Tk(K,t):void 0,H=ug(K,t),Fe=$?Ok(K,t):void 0,xe=function(){if(L.getFullYear()<0)return!0;var ye=Ck(K,t);return u&&u>=ye}(),Rt=$&&function(){if(B.getFullYear()<0)return!0;var ye=Rk(K,t);return u&&u>=ye}(),st=l&&l<H,jt=$&&l&&l<Fe;function ii(){pe(L,"prev")}function Zt(){pe(B,"prev2")}function Mo(){pe(H,"next")}function Fo(){pe(Fe,"next2")}function Ts(ye){var si=function(){switch(K){case"century":return Nk(o,a,ye);case"decade":return hg(o,a,ye);case"year":return a(o,ye);case"month":return i(o,ye);default:throw new Error("Invalid view: ".concat(K,"."))}}();return m?m({date:ye,label:si,locale:o||Qv()||void 0,view:K}):si}function Bo(){var ye="".concat(At,"__label");return I.createElement("button",{"aria-label":d,"aria-live":h,className:ye,disabled:!j,onClick:n,style:{flexGrow:1},type:"button"},I.createElement("span",{className:"".concat(ye,"__labelText ").concat(ye,"__labelText--from")},Ts(t)),Ot?I.createElement(I.Fragment,null,I.createElement("span",{className:"".concat(ye,"__divider")},"  "),I.createElement("span",{className:"".concat(ye,"__labelText ").concat(ye,"__labelText--to")},Ts(H))):null)}return I.createElement("div",{className:At},A!==null&&$?I.createElement("button",{"aria-label":b,className:"".concat(At,"__arrow ").concat(At,"__prev2-button"),disabled:Rt,onClick:Zt,type:"button"},A):null,be!==null&&I.createElement("button",{"aria-label":G,className:"".concat(At,"__arrow ").concat(At,"__prev-button"),disabled:xe,onClick:ii,type:"button"},be),Bo(),T!==null&&I.createElement("button",{"aria-label":w,className:"".concat(At,"__arrow ").concat(At,"__next-button"),disabled:st,onClick:Mo,type:"button"},T),g!==null&&$?I.createElement("button",{"aria-label":y,className:"".concat(At,"__arrow ").concat(At,"__next2-button"),disabled:jt,onClick:Fo,type:"button"},g):null)}var Cr=function(){return Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cr.apply(this,arguments)},Dk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Of(e){return"".concat(e,"%")}function md(e){var t=e.children,n=e.className,r=e.count,i=e.direction,s=e.offset,a=e.style,o=e.wrap,l=Dk(e,["children","className","count","direction","offset","style","wrap"]);return I.createElement("div",Cr({className:n,style:Cr({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},a)},l),I.Children.map(t,function(u,c){var d=s&&c===0?Of(100*s/r):null;return I.cloneElement(u,Cr(Cr({},u.props),{style:{flexBasis:Of(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))}))}var Ik=function(){},Lk=Ik;const $k=eo(Lk);var ur;function Uk(e,t,n){return t&&t>e?t:n&&n<e?n:e}function as(e,t){return t[0]<=e&&t[1]>=e}function Mk(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function pg(e,t){return as(e[0],t)||as(e[1],t)}function Cf(e,t,n){var r=pg(t,e),i=[];if(r){i.push(n);var s=as(e[0],t),a=as(e[1],t);s&&i.push("".concat(n,"Start")),a&&i.push("".concat(n,"End")),s&&a&&i.push("".concat(n,"BothEnds"))}return i}function Fk(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function Bk(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",s=[i];if(!n)return s;var a=new Date,o=function(){if(Array.isArray(n))return n;var m=e.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return Tf(m,n)}();if(as(a,o)&&s.push("".concat(i,"--now")),!t||!Fk(t))return s;var l=function(){if(Array.isArray(t))return t;var m=e.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return Tf(m,t)}();Mk(l,o)?s.push("".concat(i,"--active")):pg(l,o)&&s.push("".concat(i,"--hasActive"));var u=Cf(l,o,"".concat(i,"--range"));s.push.apply(s,u);var c=Array.isArray(t)?t:[t];if(r&&c.length===1){var d=r>l[0]?[l[0],r]:[r,l[0]],h=Cf(d,o,"".concat(i,"--hover"));s.push.apply(s,h)}return s}var zk=(ur={},ur[Or.ARABIC]=X.ISLAMIC,ur[Or.HEBREW]=X.HEBREW,ur[Or.ISO_8601]=X.ISO_8601,ur[Or.US]=X.GREGORY,ur);function Wk(e){return e!==void 0&&e in Or}var Rf=!1;function jo(e){if(Wk(e)){var t=zk[e];return $k(Rf,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),Rf=!0,t}return e}function No(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,i=e.dateTransform,s=e.dateType,a=e.end,o=e.hover,l=e.offset,u=e.renderTile,c=e.start,d=e.step,h=d===void 0?1:d,m=e.value,f=e.valueType,y=[],_=c;_<=a;_+=h){var g=i(_);y.push(u({classes:Bk({date:g,dateType:s,hover:o,value:m,valueType:f}),date:g}))}return I.createElement(md,{className:t,count:r,offset:l,wrap:!0},y)}function Po(e){var t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,s=e.formatAbbr,a=e.locale,o=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,h=e.onMouseOver,m=e.style,f=e.tileClassName,y=e.tileContent,_=e.tileDisabled,g=e.view,v=x.useMemo(function(){var S={activeStartDate:t,date:i,view:g};return typeof f=="function"?f(S):f},[t,i,f,g]),w=x.useMemo(function(){var S={activeStartDate:t,date:i,view:g};return typeof y=="function"?y(S):y},[t,i,y,g]);return I.createElement("button",{className:xo(r,v),disabled:u&&c(u)>i||o&&l(o)<i||_&&_({activeStartDate:t,date:i,view:g}),onClick:d?function(S){return d(i,S)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:m,type:"button"},s?I.createElement("abbr",{"aria-label":s(a,i)},n):n,w)}var Yu=function(){return Yu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yu.apply(this,arguments)},Vk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},jf="react-calendar__century-view__decades__decade";function Hk(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,i=e.formatYear,s=i===void 0?Ro:i,a=Vk(e,["classes","currentCentury","formatYear"]),o=a.date,l=a.locale,u=[];return n&&u.push.apply(u,n),u.push(jf),ei(o).getFullYear()!==r&&u.push("".concat(jf,"--neighboringCentury")),I.createElement(Po,Yu({},a,{classes:u,maxDateTransform:Oo,minDateTransform:On,view:"century"}),hg(l,s,o))}var Qu=function(){return Qu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qu.apply(this,arguments)},Nf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qk(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,s=e.valueType,a=Nf(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=bk(t),l=o+(r?119:99);return I.createElement(No,{className:"react-calendar__century-view__decades",dateTransform:On,dateType:"decade",end:l,hover:n,renderTile:function(u){var c=u.date,d=Nf(u,["date"]);return I.createElement(Hk,Qu({key:c.getTime()},a,d,{activeStartDate:t,currentCentury:o,date:c}))},start:o,step:10,value:i,valueType:s})}var Pf=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},Kk=Object.values(X),Gk=Object.values(Or),Xu=["century","decade","year","month"],mg=O.oneOf(Pf(Pf([],Kk,!0),Gk,!0)),Ja=O.oneOfType([O.string,O.arrayOf(O.string)]),vg=function(t,n,r){var i=t,s=n,a=i[s];if(!a)return null;if(!(a instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=t.maxDate;return o&&a>o?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},gg=function(t,n,r){var i=t,s=n,a=i[s];if(!a)return null;if(!(a instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=t.minDate;return o&&a<o?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof a,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},Jk=O.oneOfType([O.func,O.exact({current:O.any})]),Yk=O.arrayOf(O.oneOfType([O.instanceOf(Date),O.oneOf([null])]).isRequired),Qk=O.oneOfType([O.instanceOf(Date),O.oneOf([null]),Yk]);O.arrayOf(O.oneOf(Xu));var Ya=function(t,n,r){var i=t,s=n,a=i[s];return a!==void 0&&(typeof a!="string"||Xu.indexOf(a)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(a,"` supplied to `").concat(r,"`, expected one of [").concat(Xu.map(function(o){return'"'.concat(o,'"')}).join(", "),"].")):null};Ya.isRequired=function(t,n,r,i,s){var a=t,o=n,l=a[o];return l?Ya(t,n,r):new Error("The prop `".concat(n,"` is marked as required in `").concat(r,"`, but its value is `").concat(l,"`."))};var Xk=function(e){return O.arrayOf(e)},Ao={activeStartDate:O.instanceOf(Date).isRequired,hover:O.instanceOf(Date),locale:O.string,maxDate:gg,minDate:vg,onClick:O.func,onMouseOver:O.func,tileClassName:O.oneOfType([O.func,Ja]),tileContent:O.oneOfType([O.func,O.node]),value:Qk,valueType:O.oneOf(["century","decade","year","month","day"]).isRequired};O.instanceOf(Date).isRequired,O.arrayOf(O.string.isRequired).isRequired,O.instanceOf(Date).isRequired,O.string,O.func,O.func,O.objectOf(O.oneOfType([O.string,O.number])),O.oneOfType([O.func,Ja]),O.oneOfType([O.func,O.node]),O.func;var os=function(){return os=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},os.apply(this,arguments)},yg=function(t){function n(){return I.createElement(qk,os({},t))}return I.createElement("div",{className:"react-calendar__century-view"},n())};yg.propTypes=os(os({},Ao),{showNeighboringCentury:O.bool});var Zu=function(){return Zu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zu.apply(this,arguments)},Zk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Af="react-calendar__decade-view__years__year";function ex(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,i=e.formatYear,s=i===void 0?Ro:i,a=Zk(e,["classes","currentDecade","formatYear"]),o=a.date,l=a.locale,u=[];return n&&u.push.apply(u,n),u.push(Af),On(o).getFullYear()!==r&&u.push("".concat(Af,"--neighboringDecade")),I.createElement(Po,Zu({},a,{classes:u,maxDateTransform:Co,minDateTransform:ti,view:"decade"}),s(l,o))}var ec=function(){return ec=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ec.apply(this,arguments)},Df=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function tx(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,s=e.valueType,a=Df(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=Ek(t),l=o+(r?11:9);return I.createElement(No,{className:"react-calendar__decade-view__years",dateTransform:ti,dateType:"year",end:l,hover:n,renderTile:function(u){var c=u.date,d=Df(u,["date"]);return I.createElement(ex,ec({key:c.getTime()},a,d,{activeStartDate:t,currentDecade:o,date:c}))},start:o,value:i,valueType:s})}var ls=function(){return ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ls.apply(this,arguments)},wg=function(t){function n(){return I.createElement(tx,ls({},t))}return I.createElement("div",{className:"react-calendar__decade-view"},n())};wg.propTypes=ls(ls({},Ao),{showNeighboringDecade:O.bool});var tc=function(){return tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tc.apply(this,arguments)},nx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},If=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},rx="react-calendar__year-view__months__month";function ix(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,i=r===void 0?gk:r,s=e.formatMonthYear,a=s===void 0?lg:s,o=nx(e,["classes","formatMonth","formatMonthYear"]),l=o.date,u=o.locale;return I.createElement(Po,tc({},o,{classes:If(If([],n,!0),[rx],!1),formatAbbr:a,maxDateTransform:_s,minDateTransform:Zn,view:"year"}),i(u,l))}var nc=function(){return nc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nc.apply(this,arguments)},Lf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function sx(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,s=Lf(e,["activeStartDate","hover","value","valueType"]),a=0,o=11,l=te(t);return I.createElement(No,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),Zn(c)},dateType:"month",end:o,hover:n,renderTile:function(u){var c=u.date,d=Lf(u,["date"]);return I.createElement(ix,nc({key:c.getTime()},s,d,{activeStartDate:t,date:c}))},start:a,value:r,valueType:i})}var Qa=function(){return Qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qa.apply(this,arguments)},_g=function(t){function n(){return I.createElement(sx,Qa({},t))}return I.createElement("div",{className:"react-calendar__year-view"},n())};_g.propTypes=Qa({},Ao);var rc=function(){return rc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rc.apply(this,arguments)},ax=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Al="react-calendar__month-view__days__day";function ox(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,i=e.currentMonthIndex,s=e.formatDay,a=s===void 0?mk:s,o=e.formatLongDate,l=o===void 0?vk:o,u=ax(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=jo(t),d=u.date,h=u.locale,m=[];return r&&m.push.apply(m,r),m.push(Al),fg(d,c)&&m.push("".concat(Al,"--weekend")),d.getMonth()!==i&&m.push("".concat(Al,"--neighboringMonth")),I.createElement(Po,rc({},u,{classes:m,formatAbbr:l,maxDateTransform:fd,minDateTransform:Ss,view:"month"}),a(h,d))}var ic=function(){return ic=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ic.apply(this,arguments)},$f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function lx(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,s=e.showNeighboringMonth,a=e.value,o=e.valueType,l=$f(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=jo(n),c=te(t),d=Tn(t),h=i||s,m=ss(t,u),f=h?0:m,y=(h?-m:0)+1,_=function(){if(i)return y+6*7-1;var g=og(t);if(s){var v=new Date;v.setFullYear(c,d,g),v.setHours(0,0,0,0);var w=7-ss(v,u)-1;return g+w}return g}();return I.createElement(No,{className:"react-calendar__month-view__days",count:7,dateTransform:function(g){var v=new Date;return v.setFullYear(c,d,g),Ss(v)},dateType:"day",hover:r,end:_,renderTile:function(g){var v=g.date,w=$f(g,["date"]);return I.createElement(ox,ic({key:v.getTime()},l,w,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:v}))},offset:f,start:y,value:a,valueType:o})}var Sg="react-calendar__month-view__weekdays",Dl="".concat(Sg,"__weekday");function ux(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?yk:n,i=e.formatWeekday,s=i===void 0?wk:i,a=e.locale,o=e.onMouseLeave,l=jo(t),u=new Date,c=Zn(u),d=te(c),h=Tn(c),m=[],f=1;f<=7;f+=1){var y=new Date(d,h,f-ss(c,l)),_=s(a,y);m.push(I.createElement("div",{key:f,className:xo(Dl,Pk(y)&&"".concat(Dl,"--current"),fg(y,l)&&"".concat(Dl,"--weekend"))},I.createElement("abbr",{"aria-label":_,title:_},r(a,y).replace(".",""))))}return I.createElement(md,{className:Sg,count:7,onFocus:o,onMouseOver:o},m)}var Xa=function(){return Xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xa.apply(this,arguments)},Uf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Mf="react-calendar__tile";function cx(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=I.createElement("span",null,n);if(t){var i=e.date,s=e.onClickWeekNumber,a=e.weekNumber,o=Uf(e,["date","onClickWeekNumber","weekNumber"]);return I.createElement("button",Xa({},o,{className:Mf,onClick:function(l){return s(a,i,l)},type:"button"}),r)}else{e.date,e.onClickWeekNumber,e.weekNumber;var o=Uf(e,["date","onClickWeekNumber","weekNumber"]);return I.createElement("div",Xa({},o,{className:Mf}),r)}}function dx(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,a=jo(n),o=function(){if(s)return 6;var c=og(t),d=ss(t,a),h=c-(7-d);return 1+Math.ceil(h/7)}(),l=function(){for(var c=te(t),d=Tn(t),h=To(t),m=[],f=0;f<o;f+=1)m.push(Ju(new Date(c,d,h+f*7),a));return m}(),u=l.map(function(c){return kk(c,a)});return I.createElement(md,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(c,d){var h=l[d];if(!h)throw new Error("date is not defined");return I.createElement(cx,{key:c,date:h,onClickWeekNumber:r,weekNumber:c})}))}var us=function(){return us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},us.apply(this,arguments)},hx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function fx(e){if(e)for(var t=0,n=Object.entries(sk);t<n.length;t++){var r=n[t],i=r[0],s=r[1];if(s.includes(e))return i}return X.ISO_8601}var bg=function(t){var n=t.activeStartDate,r=t.locale,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=t.calendarType,o=a===void 0?fx(r):a,l=t.formatShortWeekday,u=t.formatWeekday,c=t.onClickWeekNumber,d=t.showWeekNumbers,h=hx(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function m(){return I.createElement(ux,{calendarType:o,formatShortWeekday:l,formatWeekday:u,locale:r,onMouseLeave:i})}function f(){return d?I.createElement(dx,{activeStartDate:n,calendarType:o,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function y(){return I.createElement(lx,us({calendarType:o},h))}var _="react-calendar__month-view";return I.createElement("div",{className:xo(_,d?"".concat(_,"--weekNumbers"):"")},I.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},f(),I.createElement("div",{style:{flexGrow:1,width:"100%"}},m(),y())))};bg.propTypes=us(us({},Ao),{calendarType:mg,formatDay:O.func,formatLongDate:O.func,formatShortWeekday:O.func,formatWeekday:O.func,onClickWeekNumber:O.func,onMouseLeave:O.func,showFixedNumberOfWeeks:O.bool,showNeighboringMonth:O.bool,showWeekNumbers:O.bool});var Rr=function(){return Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rr.apply(this,arguments)},ta="react-calendar",$r=["century","decade","year","month"],px=["decade","year","month","day"],vd=new Date;vd.setFullYear(1,0,1);vd.setHours(0,0,0,0);var mx=new Date(864e13);function bi(e){return e instanceof Date?e:new Date(e)}function Eg(e,t){return $r.slice($r.indexOf(e),$r.indexOf(t)+1)}function vx(e,t,n){var r=Eg(t,n);return r.indexOf(e)!==-1}function gd(e,t,n){return e&&vx(e,t,n)?e:n}function kg(e){var t=$r.indexOf(e);return px[t]}function gx(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=bi(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function xg(e,t){var n=e.value,r=e.minDate,i=e.maxDate,s=e.maxDetail,a=gx(n,t);if(!a)return null;var o=kg(s),l=function(){switch(t){case 0:return Wn(o,a);case 1:return cg(o,a);default:throw new Error("Invalid index value: ".concat(t))}}();return Uk(l,r,i)}var yd=function(e){return xg(e,0)},Tg=function(e){return xg(e,1)},yx=function(e){return[yd,Tg].map(function(t){return t(e)})};function Og(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,s=e.value,a=e.view,o=gd(a,i,n),l=yd({value:s,minDate:r,maxDate:t,maxDetail:n})||new Date;return Wn(o,l)}function wx(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,s=e.maxDate,a=e.maxDetail,o=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=gd(c,l,a),h=t||n;return h?Wn(d,h):Og({maxDate:s,maxDetail:a,minDate:o,minDetail:l,value:u||r,view:c||i})}function Il(e){return e&&(!Array.isArray(e)||e.length===1)}function na(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Cg=x.forwardRef(function(t,n){var r=t.activeStartDate,i=t.allowPartialRange,s=t.calendarType,a=t.className,o=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,d=t.formatLongDate,h=t.formatMonth,m=t.formatMonthYear,f=t.formatShortWeekday,y=t.formatWeekday,_=t.formatYear,g=t.goToRangeStartOnSelect,v=g===void 0?!0:g,w=t.inputRef,S=t.locale,T=t.maxDate,E=T===void 0?mx:T,b=t.maxDetail,C=b===void 0?"month":b,A=t.minDate,P=A===void 0?vd:A,G=t.minDetail,ne=G===void 0?"century":G,be=t.navigationAriaLabel,pe=t.navigationAriaLive,Ot=t.navigationLabel,K=t.next2AriaLabel,Ct=t.next2Label,j=t.nextAriaLabel,$=t.nextLabel,L=t.onActiveStartDateChange,B=t.onChange,H=t.onClickDay,Fe=t.onClickDecade,xe=t.onClickMonth,Rt=t.onClickWeekNumber,st=t.onClickYear,jt=t.onDrillDown,ii=t.onDrillUp,Zt=t.onViewChange,Mo=t.prev2AriaLabel,Fo=t.prev2Label,Ts=t.prevAriaLabel,Bo=t.prevLabel,ye=t.returnValue,si=ye===void 0?"start":ye,at=t.selectRange,Os=t.showDoubleView,Ed=t.showFixedNumberOfWeeks,kd=t.showNavigation,Zg=kd===void 0?!0:kd,ey=t.showNeighboringCentury,ty=t.showNeighboringDecade,xd=t.showNeighboringMonth,ny=xd===void 0?!0:xd,ry=t.showWeekNumbers,iy=t.tileClassName,sy=t.tileContent,ay=t.tileDisabled,zo=t.value,Td=t.view,Od=x.useState(o),oy=Od[0],Cs=Od[1],Cd=x.useState(null),ly=Cd[0],Rd=Cd[1],jd=x.useState(Array.isArray(l)?l.map(function(W){return W!==null?bi(W):null}):l!=null?bi(l):null),Wo=jd[0],uy=jd[1],Nd=x.useState(u),cy=Nd[0],Pd=Nd[1],Be=r||oy||wx({activeStartDate:r,defaultActiveStartDate:o,defaultValue:l,defaultView:u,maxDate:E,maxDetail:C,minDate:P,minDetail:ne,value:zo,view:Td}),ze=function(){var W=function(){return at&&Il(Wo)?Wo:zo!==void 0?zo:Wo}();return W?Array.isArray(W)?W.map(function(ue){return ue!==null?bi(ue):null}):W!==null?bi(W):null:null}(),Rs=kg(C),re=gd(Td||cy,ne,C),Nt=Eg(ne,C),dy=at?ly:null,Vo=Nt.indexOf(re)<Nt.length-1,Ad=Nt.indexOf(re)>0,Dd=x.useCallback(function(W){var ue=function(){switch(si){case"start":return yd;case"end":return Tg;case"range":return yx;default:throw new Error("Invalid returnValue.")}}();return ue({maxDate:E,maxDetail:C,minDate:P,value:W})},[E,C,P,si]),Ho=x.useCallback(function(W,ue){Cs(W);var me={action:ue,activeStartDate:W,value:ze,view:re};L&&!na(Be,W)&&L(me)},[Be,L,ze,re]),js=x.useCallback(function(W,ue){var me=function(){switch(re){case"century":return Fe;case"decade":return st;case"year":return xe;case"month":return H;default:throw new Error("Invalid view: ".concat(re,"."))}}();me&&me(W,ue)},[H,Fe,xe,st,re]),qo=x.useCallback(function(W,ue){if(Vo){js(W,ue);var me=Nt[Nt.indexOf(re)+1];if(!me)throw new Error("Attempted to drill down from the lowest view.");Cs(W),Pd(me);var ft={action:"drillDown",activeStartDate:W,value:ze,view:me};L&&!na(Be,W)&&L(ft),Zt&&re!==me&&Zt(ft),jt&&jt(ft)}},[Be,Vo,L,js,jt,Zt,ze,re,Nt]),Ko=x.useCallback(function(){if(Ad){var W=Nt[Nt.indexOf(re)-1];if(!W)throw new Error("Attempted to drill up from the highest view.");var ue=Wn(W,Be);Cs(ue),Pd(W);var me={action:"drillUp",activeStartDate:ue,value:ze,view:W};L&&!na(Be,ue)&&L(me),Zt&&re!==W&&Zt(me),ii&&ii(me)}},[Be,Ad,L,ii,Zt,ze,re,Nt]),Go=x.useCallback(function(W,ue){var me=ze;js(W,ue);var ft=at&&!Il(me),pt;if(at)if(ft)pt=Wn(Rs,W);else{if(!me)throw new Error("previousValue is required");if(Array.isArray(me))throw new Error("previousValue must not be an array");pt=jk(Rs,me,W)}else pt=Dd(W);var Yo=!at||ft||v?Og({maxDate:E,maxDetail:C,minDate:P,minDetail:ne,value:pt,view:re}):null;ue.persist(),Cs(Yo),uy(pt);var my={action:"onChange",activeStartDate:Yo,value:pt,view:re};if(L&&!na(Be,Yo)&&L(my),B)if(at){var vy=Il(pt);if(!vy)B(pt||null,ue);else if(i){if(Array.isArray(pt))throw new Error("value must not be an array");B([pt||null,null],ue)}}else B(pt||null,ue)},[Be,i,Dd,v,E,C,P,ne,L,B,js,at,ze,Rs,re]);function hy(W){Rd(W)}function Jo(){Rd(null)}x.useImperativeHandle(n,function(){return{activeStartDate:Be,drillDown:qo,drillUp:Ko,onChange:Go,setActiveStartDate:Ho,value:ze,view:re}},[Be,qo,Ko,Go,Ho,ze,re]);function Id(W){var ue=W?ug(re,Be):Wn(re,Be),me=Vo?qo:Go,ft={activeStartDate:ue,hover:dy,locale:S,maxDate:E,minDate:P,onClick:me,onMouseOver:at?hy:void 0,tileClassName:iy,tileContent:sy,tileDisabled:ay,value:ze,valueType:Rs};switch(re){case"century":return I.createElement(yg,Rr({formatYear:_,showNeighboringCentury:ey},ft));case"decade":return I.createElement(wg,Rr({formatYear:_,showNeighboringDecade:ty},ft));case"year":return I.createElement(_g,Rr({formatMonth:h,formatMonthYear:m},ft));case"month":return I.createElement(bg,Rr({calendarType:s,formatDay:c,formatLongDate:d,formatShortWeekday:f,formatWeekday:y,onClickWeekNumber:Rt,onMouseLeave:at?Jo:void 0,showFixedNumberOfWeeks:typeof Ed<"u"?Ed:Os,showNeighboringMonth:ny,showWeekNumbers:ry},ft));default:throw new Error("Invalid view: ".concat(re,"."))}}function fy(){return Zg?I.createElement(Ak,{activeStartDate:Be,drillUp:Ko,formatMonthYear:m,formatYear:_,locale:S,maxDate:E,minDate:P,navigationAriaLabel:be,navigationAriaLive:pe,navigationLabel:Ot,next2AriaLabel:K,next2Label:Ct,nextAriaLabel:j,nextLabel:$,prev2AriaLabel:Mo,prev2Label:Fo,prevAriaLabel:Ts,prevLabel:Bo,setActiveStartDate:Ho,showDoubleView:Os,view:re,views:Nt}):null}var py=Array.isArray(ze)?ze:[ze];return I.createElement("div",{className:xo(ta,at&&py.length===1&&"".concat(ta,"--selectRange"),Os&&"".concat(ta,"--doubleView"),a),ref:w},fy(),I.createElement("div",{className:"".concat(ta,"__viewContainer"),onBlur:at?Jo:void 0,onMouseLeave:at?Jo:void 0},Id(),Os?Id(!0):null))}),Ff=O.instanceOf(Date),Bf=O.oneOfType([O.string,O.instanceOf(Date)]),zf=O.oneOfType([Bf,Xk(Bf)]);Cg.propTypes={activeStartDate:Ff,allowPartialRange:O.bool,calendarType:mg,className:Ja,defaultActiveStartDate:Ff,defaultValue:zf,defaultView:Ya,formatDay:O.func,formatLongDate:O.func,formatMonth:O.func,formatMonthYear:O.func,formatShortWeekday:O.func,formatWeekday:O.func,formatYear:O.func,goToRangeStartOnSelect:O.bool,inputRef:Jk,locale:O.string,maxDate:gg,maxDetail:O.oneOf($r),minDate:vg,minDetail:O.oneOf($r),navigationAriaLabel:O.string,navigationAriaLive:O.oneOf(["off","polite","assertive"]),navigationLabel:O.func,next2AriaLabel:O.string,next2Label:O.node,nextAriaLabel:O.string,nextLabel:O.node,onActiveStartDateChange:O.func,onChange:O.func,onClickDay:O.func,onClickDecade:O.func,onClickMonth:O.func,onClickWeekNumber:O.func,onClickYear:O.func,onDrillDown:O.func,onDrillUp:O.func,onViewChange:O.func,prev2AriaLabel:O.string,prev2Label:O.node,prevAriaLabel:O.string,prevLabel:O.node,returnValue:O.oneOf(["start","end","range"]),selectRange:O.bool,showDoubleView:O.bool,showFixedNumberOfWeeks:O.bool,showNavigation:O.bool,showNeighboringCentury:O.bool,showNeighboringDecade:O.bool,showNeighboringMonth:O.bool,showWeekNumbers:O.bool,tileClassName:O.oneOfType([O.func,Ja]),tileContent:O.oneOfType([O.func,O.node]),tileDisabled:O.func,value:zf,view:Ya};const We={LOCATIONS:"smartcal_locations",TASKS:"smartcal_tasks",EVENTS:"smartcal_events",RECURRING_SCHEDULE:"smartcal_recurring_schedule",SETTINGS:"smartcal_settings"};class _x{getLocations(){const t=localStorage.getItem(We.LOCATIONS);return t?JSON.parse(t):[]}addLocation(t){const n=this.getLocations(),r={id:Date.now(),...t,createdAt:new Date().toISOString()};return n.push(r),localStorage.setItem(We.LOCATIONS,JSON.stringify(n)),r}deleteLocation(t){const n=this.getLocations().filter(r=>r.id!==t);localStorage.setItem(We.LOCATIONS,JSON.stringify(n))}getHomeLocation(){return this.getLocations().find(n=>n.isHome)||null}getTasks(t,n){const r=localStorage.getItem(We.TASKS);let i=r?JSON.parse(r):[];return t&&n&&(i=i.filter(s=>{const a=new Date(s.startDatetime);return a>=new Date(t)&&a<=new Date(n)})),i}addTask(t){const n=this.getTasks(),r={id:Date.now(),...t,createdAt:new Date().toISOString()};return n.push(r),localStorage.setItem(We.TASKS,JSON.stringify(n)),r}deleteTask(t){const n=this.getTasks().filter(r=>r.id!==t);localStorage.setItem(We.TASKS,JSON.stringify(n))}getEvents(t,n){const r=localStorage.getItem(We.EVENTS);let i=r?JSON.parse(r):[];return t&&n&&(i=i.filter(s=>{const a=new Date(s.eventDate);return a>=new Date(t)&&a<=new n})),i}addEvent(t){const n=this.getEvents(),r={id:Date.now(),...t,createdAt:new Date().toISOString()};return n.push(r),localStorage.setItem(We.EVENTS,JSON.stringify(n)),r}deleteEvent(t){const n=this.getEvents().filter(r=>r.id!==t);localStorage.setItem(We.EVENTS,JSON.stringify(n))}getRecurringSchedule(t=null){const n=localStorage.getItem(We.RECURRING_SCHEDULE);let r=n?JSON.parse(n):[];return t!==null&&(r=r.filter(i=>i.dayOfWeek===t)),r}addRecurringSchedule(t){const n=this.getRecurringSchedule(),r={id:Date.now(),...t,createdAt:new Date().toISOString()};return n.push(r),localStorage.setItem(We.RECURRING_SCHEDULE,JSON.stringify(n)),r}deleteRecurringSchedule(t){const n=this.getRecurringSchedule().filter(r=>r.id!==t);localStorage.setItem(We.RECURRING_SCHEDULE,JSON.stringify(n))}getSettings(){const t=localStorage.getItem(We.SETTINGS);return t?JSON.parse(t):{nightStartTime:"21:00",nightEndTime:"06:00"}}updateSettings(t){const r={...this.getSettings(),...t};return localStorage.setItem(We.SETTINGS,JSON.stringify(r)),r}}const se=new _x;function Sx(){const[e,t]=x.useState(new Date),[n,r]=x.useState([]),[i,s]=x.useState([]),[a,o]=x.useState(!1),[l,u]=x.useState(!1),[c,d]=x.useState([]),[h,m]=x.useState({title:"",description:"",startTime:"",endTime:"",locationId:null,allowNightHours:!1}),[f,y]=x.useState({title:"",description:"",time:""});x.useEffect(()=>{_(),g()},[e]);const _=()=>{const b=e.toISOString().split("T")[0],C=`${b}T00:00:00`,A=`${b}T23:59:59`,P=se.getTasks(C,A),G=se.getEvents(b,b);r(P),s(G)},g=()=>{const b=se.getLocations();d(b),b.length>0&&!h.locationId&&m(C=>({...C,locationId:b[0].id}))},v=b=>{var P;b.preventDefault();const C=e.toISOString().split("T")[0],A={title:h.title,description:h.description,startDatetime:`${C}T${h.startTime}:00`,endDatetime:`${C}T${h.endTime}:00`,locationId:h.locationId,allowNightHours:h.allowNightHours};se.addTask(A),o(!1),m({title:"",description:"",startTime:"",endTime:"",locationId:(P=c[0])==null?void 0:P.id,allowNightHours:!1}),_()},w=b=>{b.preventDefault();const C=e.toISOString().split("T")[0],A={title:f.title,description:f.description,eventDate:C,eventTime:f.time||null};se.addEvent(A),u(!1),y({title:"",description:"",time:""}),_()},S=b=>{confirm("Supprimer cette tche ?")&&(se.deleteTask(b),_())},T=b=>{confirm("Supprimer cet vnement ?")&&(se.deleteEvent(b),_())},E=b=>new Date(b).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return p.jsxs("div",{className:"calendar-page",children:[p.jsx("h1",{children:" Mon Calendrier"}),p.jsxs("div",{className:"calendar-layout",children:[p.jsx("div",{className:"calendar-container",children:p.jsx(Cg,{onChange:t,value:e,locale:"fr-FR"})}),p.jsxs("div",{className:"day-view",children:[p.jsx("h2",{children:e.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),p.jsxs("div",{className:"section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h3",{children:"Tches"}),p.jsx("button",{onClick:()=>o(!0),className:"btn btn-primary",children:"+ Ajouter une tche"})]}),n.length===0?p.jsx("p",{className:"empty-text",children:"Aucune tche pour ce jour"}):p.jsx("div",{className:"items-list",children:n.map(b=>p.jsxs("div",{className:"task-card",children:[p.jsxs("div",{className:"card-content",children:[p.jsx("h4",{children:b.title}),p.jsxs("p",{className:"time",children:[E(b.startDatetime)," - ",E(b.endDatetime)]}),b.description&&p.jsx("p",{className:"description",children:b.description})]}),p.jsx("button",{onClick:()=>S(b.id),className:"btn-delete",children:""})]},b.id))})]}),p.jsxs("div",{className:"section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h3",{children:"vnements"}),p.jsx("button",{onClick:()=>u(!0),className:"btn btn-success",children:"+ Ajouter un vnement"})]}),i.length===0?p.jsx("p",{className:"empty-text",children:"Aucun vnement pour ce jour"}):p.jsx("div",{className:"items-list",children:i.map(b=>p.jsxs("div",{className:"event-card",children:[p.jsxs("div",{className:"card-content",children:[p.jsx("h4",{children:b.title}),b.eventTime&&p.jsxs("p",{className:"time",children:[" ",b.eventTime]}),b.description&&p.jsx("p",{className:"description",children:b.description})]}),p.jsx("button",{onClick:()=>T(b.id),className:"btn-delete",children:""})]},b.id))})]})]})]}),a&&p.jsx("div",{className:"modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsx("h2",{children:"Nouvelle tche"}),p.jsxs("form",{onSubmit:v,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Titre *"}),p.jsx("input",{type:"text",value:h.title,onChange:b=>m({...h,title:b.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:h.description,onChange:b=>m({...h,description:b.target.value})})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Heure de dbut *"}),p.jsx("input",{type:"time",value:h.startTime,onChange:b=>m({...h,startTime:b.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Heure de fin *"}),p.jsx("input",{type:"time",value:h.endTime,onChange:b=>m({...h,endTime:b.target.value}),required:!0})]})]}),c.length>0&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Lieu"}),p.jsx("select",{value:h.locationId,onChange:b=>m({...h,locationId:parseInt(b.target.value)}),children:c.map(b=>p.jsx("option",{value:b.id,children:b.name},b.id))})]}),p.jsx("div",{className:"form-group checkbox",children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:h.allowNightHours,onChange:b=>m({...h,allowNightHours:b.target.checked})}),"Autoriser horaires de nuit"]})}),p.jsxs("div",{className:"modal-actions",children:[p.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enregistrer"})]})]})]})}),l&&p.jsx("div",{className:"modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsx("h2",{children:"Nouvel vnement"}),p.jsxs("form",{onSubmit:w,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Titre *"}),p.jsx("input",{type:"text",value:f.title,onChange:b=>y({...f,title:b.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:f.description,onChange:b=>y({...f,description:b.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Heure (optionnel)"}),p.jsx("input",{type:"time",value:f.time,onChange:b=>y({...f,time:b.target.value})})]}),p.jsxs("div",{className:"modal-actions",children:[p.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-success",children:"Enregistrer"})]})]})]})})]})}function bx(){const[e,t]=x.useState([]),[n,r]=x.useState(!1),[i,s]=x.useState({name:"",address:"",latitude:"",longitude:"",isHome:!1});x.useEffect(()=>{a()},[]);const a=()=>{const u=se.getLocations();t(u)},o=u=>{if(u.preventDefault(),!i.name||!i.address||!i.latitude||!i.longitude){alert("Veuillez remplir tous les champs");return}se.addLocation({name:i.name,address:i.address,latitude:parseFloat(i.latitude),longitude:parseFloat(i.longitude),isHome:i.isHome}),s({name:"",address:"",latitude:"",longitude:"",isHome:!1}),r(!1),a()},l=u=>{confirm("Supprimer ce lieu ?")&&(se.deleteLocation(u),a())};return p.jsxs("div",{className:"locations-page",children:[p.jsx("h1",{children:" Mes lieux frquents"}),p.jsx("p",{className:"subtitle",children:"Grez les lieux que vous frquentez rgulirement"}),e.length===0?p.jsxs("div",{className:"empty-state card",children:[p.jsx("h3",{children:"Aucun lieu enregistr"}),p.jsx("p",{children:"Ajoutez votre domicile, lieu de travail, cole, etc."})]}):p.jsx("div",{className:"locations-list",children:e.map(u=>p.jsxs("div",{className:"location-card card",children:[p.jsxs("div",{className:"location-info",children:[p.jsxs("h3",{children:[u.name," ",u.isHome&&""]}),p.jsx("p",{className:"address",children:u.address}),p.jsxs("p",{className:"coords",children:[" ",u.latitude.toFixed(6),", ",u.longitude.toFixed(6)]})]}),p.jsx("button",{onClick:()=>l(u.id),className:"btn-delete",children:" Supprimer"})]},u.id))}),n?p.jsxs("div",{className:"form-container card",children:[p.jsx("h2",{children:"Nouveau lieu"}),p.jsxs("form",{onSubmit:o,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nom du lieu *"}),p.jsx("input",{type:"text",value:i.name,onChange:u=>s({...i,name:u.target.value}),placeholder:"Ex: Domicile, Travail, cole...",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Adresse complte *"}),p.jsx("textarea",{value:i.address,onChange:u=>s({...i,address:u.target.value}),placeholder:"Ex: 123 Rue de la Rpublique, 69001 Lyon",required:!0})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Latitude *"}),p.jsx("input",{type:"number",step:"0.000001",value:i.latitude,onChange:u=>s({...i,latitude:u.target.value}),placeholder:"45.764043",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Longitude *"}),p.jsx("input",{type:"number",step:"0.000001",value:i.longitude,onChange:u=>s({...i,longitude:u.target.value}),placeholder:"4.835659",required:!0})]})]}),p.jsx("div",{className:"help-text",children:" Pour obtenir les coordonnes : Ouvrez Google Maps, faites un clic droit sur le lieu, puis cliquez sur les coordonnes pour les copier"}),p.jsx("div",{className:"form-group checkbox",children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:i.isHome,onChange:u=>s({...i,isHome:u.target.checked})}),"Marquer comme domicile "]})}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",onClick:()=>r(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-success",children:"Ajouter"})]})]})]}):p.jsx("button",{onClick:()=>r(!0),className:"btn btn-primary btn-large",children:"+ Ajouter un lieu"})]})}function Ex(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[i,s]=x.useState(!1),[a,o]=x.useState({dayOfWeek:1,startTime:"",endTime:"",title:"",locationId:null}),l=[{value:1,label:"Lundi"},{value:2,label:"Mardi"},{value:3,label:"Mercredi"},{value:4,label:"Jeudi"},{value:5,label:"Vendredi"},{value:6,label:"Samedi"},{value:0,label:"Dimanche"}];x.useEffect(()=>{u()},[]);const u=()=>{const m=se.getRecurringSchedule(),f=se.getLocations();t(m),r(f),f.length>0&&!a.locationId&&o(y=>({...y,locationId:f[0].id}))},c=m=>{var f;if(m.preventDefault(),!a.title||!a.startTime||!a.endTime){alert("Veuillez remplir tous les champs obligatoires");return}se.addRecurringSchedule(a),o({dayOfWeek:1,startTime:"",endTime:"",title:"",locationId:(f=n[0])==null?void 0:f.id}),s(!1),u()},d=m=>{confirm("Supprimer ce crneau ?")&&(se.deleteRecurringSchedule(m),u())},h=l.map(m=>({day:m.label,dayValue:m.value,schedules:e.filter(f=>f.dayOfWeek===m.value)}));return p.jsxs("div",{className:"schedule-page",children:[p.jsx("h1",{children:" Emploi du temps rcurrent"}),p.jsx("p",{className:"subtitle",children:"Configurez vos cours, horaires de travail et activits rgulires"}),p.jsx("div",{className:"week-schedule",children:h.map(m=>p.jsxs("div",{className:"day-section",children:[p.jsx("h3",{className:"day-title",children:m.day}),m.schedules.length===0?p.jsx("p",{className:"empty-text",children:"Pas d'emploi du temps"}):p.jsx("div",{className:"schedules-list",children:m.schedules.sort((f,y)=>f.startTime.localeCompare(y.startTime)).map(f=>p.jsxs("div",{className:"schedule-card",children:[p.jsxs("div",{className:"schedule-info",children:[p.jsx("h4",{children:f.title}),p.jsxs("p",{className:"time",children:[f.startTime," - ",f.endTime]})]}),p.jsx("button",{onClick:()=>d(f.id),className:"btn-delete",children:""})]},f.id))})]},m.dayValue))}),i?p.jsxs("div",{className:"form-container card",children:[p.jsx("h2",{children:"Nouveau crneau"}),p.jsxs("form",{onSubmit:c,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Jour de la semaine"}),p.jsx("select",{value:a.dayOfWeek,onChange:m=>o({...a,dayOfWeek:parseInt(m.target.value)}),children:l.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Titre *"}),p.jsx("input",{type:"text",value:a.title,onChange:m=>o({...a,title:m.target.value}),placeholder:"Ex: Cours de mathmatiques",required:!0})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Heure de dbut *"}),p.jsx("input",{type:"time",value:a.startTime,onChange:m=>o({...a,startTime:m.target.value}),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Heure de fin *"}),p.jsx("input",{type:"time",value:a.endTime,onChange:m=>o({...a,endTime:m.target.value}),required:!0})]})]}),n.length>0&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Lieu"}),p.jsx("select",{value:a.locationId,onChange:m=>o({...a,locationId:parseInt(m.target.value)}),children:n.map(m=>p.jsx("option",{value:m.id,children:m.name},m.id))})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-secondary",children:"Annuler"}),p.jsx("button",{type:"submit",className:"btn btn-success",children:"Ajouter"})]})]})]}):p.jsx("button",{onClick:()=>s(!0),className:"btn btn-primary btn-large",children:"+ Ajouter un crneau"})]})}function Rg(e,t){return function(){return e.apply(t,arguments)}}const{toString:kx}=Object.prototype,{getPrototypeOf:wd}=Object,{iterator:Do,toStringTag:jg}=Symbol,Io=(e=>t=>{const n=kx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Tt=e=>(e=e.toLowerCase(),t=>Io(t)===e),Lo=e=>t=>typeof t===e,{isArray:ni}=Array,qr=Lo("undefined");function bs(e){return e!==null&&!qr(e)&&e.constructor!==null&&!qr(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ng=Tt("ArrayBuffer");function xx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ng(e.buffer),t}const Tx=Lo("string"),Je=Lo("function"),Pg=Lo("number"),Es=e=>e!==null&&typeof e=="object",Ox=e=>e===!0||e===!1,va=e=>{if(Io(e)!=="object")return!1;const t=wd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jg in e)&&!(Do in e)},Cx=e=>{if(!Es(e)||bs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Rx=Tt("Date"),jx=Tt("File"),Nx=Tt("Blob"),Px=Tt("FileList"),Ax=e=>Es(e)&&Je(e.pipe),Dx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=Io(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},Ix=Tt("URLSearchParams"),[Lx,$x,Ux,Mx]=["ReadableStream","Request","Response","Headers"].map(Tt),Fx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ks(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ni(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(bs(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(r=0;r<a;r++)o=s[r],t.call(null,e[o],o,e)}}function Ag(e,t){if(bs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dg=e=>!qr(e)&&e!==Fn;function sc(){const{caseless:e,skipUndefined:t}=Dg(this)&&this||{},n={},r=(i,s)=>{const a=e&&Ag(n,s)||s;va(n[a])&&va(i)?n[a]=sc(n[a],i):va(i)?n[a]=sc({},i):ni(i)?n[a]=i.slice():(!t||!qr(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&ks(arguments[i],r);return n}const Bx=(e,t,n,{allOwnKeys:r}={})=>(ks(t,(i,s)=>{n&&Je(i)?e[s]=Rg(i,n):e[s]=i},{allOwnKeys:r}),e),zx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wx=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Vx=(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=n!==!1&&wd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Hx=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},qx=e=>{if(!e)return null;if(ni(e))return e;let t=e.length;if(!Pg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Kx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wd(Uint8Array)),Gx=(e,t)=>{const r=(e&&e[Do]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Jx=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Yx=Tt("HTMLFormElement"),Qx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Wf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Xx=Tt("RegExp"),Ig=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ks(n,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},Zx=e=>{Ig(e,(t,n)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Je(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eT=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ni(e)?r(e):r(String(e).split(t)),n},tT=()=>{},nT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function rT(e){return!!(e&&Je(e.append)&&e[jg]==="FormData"&&e[Do])}const iT=e=>{const t=new Array(10),n=(r,i)=>{if(Es(r)){if(t.indexOf(r)>=0)return;if(bs(r))return r;if(!("toJSON"in r)){t[i]=r;const s=ni(r)?[]:{};return ks(r,(a,o)=>{const l=n(a,i+1);!qr(l)&&(s[o]=l)}),t[i]=void 0,s}}return r};return n(e,0)},sT=Tt("AsyncFunction"),aT=e=>e&&(Es(e)||Je(e))&&Je(e.then)&&Je(e.catch),Lg=((e,t)=>e?setImmediate:t?((n,r)=>(Fn.addEventListener("message",({source:i,data:s})=>{i===Fn&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je(Fn.postMessage)),oT=typeof queueMicrotask<"u"?queueMicrotask.bind(Fn):typeof process<"u"&&process.nextTick||Lg,lT=e=>e!=null&&Je(e[Do]),k={isArray:ni,isArrayBuffer:Ng,isBuffer:bs,isFormData:Dx,isArrayBufferView:xx,isString:Tx,isNumber:Pg,isBoolean:Ox,isObject:Es,isPlainObject:va,isEmptyObject:Cx,isReadableStream:Lx,isRequest:$x,isResponse:Ux,isHeaders:Mx,isUndefined:qr,isDate:Rx,isFile:jx,isBlob:Nx,isRegExp:Xx,isFunction:Je,isStream:Ax,isURLSearchParams:Ix,isTypedArray:Kx,isFileList:Px,forEach:ks,merge:sc,extend:Bx,trim:Fx,stripBOM:zx,inherits:Wx,toFlatObject:Vx,kindOf:Io,kindOfTest:Tt,endsWith:Hx,toArray:qx,forEachEntry:Gx,matchAll:Jx,isHTMLForm:Yx,hasOwnProperty:Wf,hasOwnProp:Wf,reduceDescriptors:Ig,freezeMethods:Zx,toObjectSet:eT,toCamelCase:Qx,noop:tT,toFiniteNumber:nT,findKey:Ag,global:Fn,isContextDefined:Dg,isSpecCompliantForm:rT,toJSONObject:iT,isAsyncFn:sT,isThenable:aT,setImmediate:Lg,asap:oT,isIterable:lT};function F(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}k.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const $g=F.prototype,Ug={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ug[e]={value:e}});Object.defineProperties(F,Ug);Object.defineProperty($g,"isAxiosError",{value:!0});F.from=(e,t,n,r,i,s)=>{const a=Object.create($g);k.toFlatObject(e,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return F.call(a,o,l,n,r,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const uT=null;function ac(e){return k.isPlainObject(e)||k.isArray(e)}function Mg(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function Vf(e,t,n){return e?e.concat(t).map(function(i,s){return i=Mg(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function cT(e){return k.isArray(e)&&!e.some(ac)}const dT=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function $o(e,t,n){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!k.isUndefined(_[y])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(k.isDate(f))return f.toISOString();if(k.isBoolean(f))return f.toString();if(!l&&k.isBlob(f))throw new F("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(f)||k.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,y,_){let g=f;if(f&&!_&&typeof f=="object"){if(k.endsWith(y,"{}"))y=r?y:y.slice(0,-2),f=JSON.stringify(f);else if(k.isArray(f)&&cT(f)||(k.isFileList(f)||k.endsWith(y,"[]"))&&(g=k.toArray(f)))return y=Mg(y),g.forEach(function(w,S){!(k.isUndefined(w)||w===null)&&t.append(a===!0?Vf([y],S,s):a===null?y:y+"[]",u(w))}),!1}return ac(f)?!0:(t.append(Vf(_,y,s),u(f)),!1)}const d=[],h=Object.assign(dT,{defaultVisitor:c,convertValue:u,isVisitable:ac});function m(f,y){if(!k.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(f),k.forEach(f,function(g,v){(!(k.isUndefined(g)||g===null)&&i.call(t,g,k.isString(v)?v.trim():v,y,h))===!0&&m(g,y?y.concat(v):[v])}),d.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Hf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _d(e,t){this._pairs=[],e&&$o(e,this,t)}const Fg=_d.prototype;Fg.append=function(t,n){this._pairs.push([t,n])};Fg.toString=function(t){const n=t?function(r){return t.call(this,r,Hf)}:Hf;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function hT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bg(e,t,n){if(!t)return e;const r=n&&n.encode||hT;k.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=k.isURLSearchParams(t)?t.toString():new _d(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class qf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fT=typeof URLSearchParams<"u"?URLSearchParams:_d,pT=typeof FormData<"u"?FormData:null,mT=typeof Blob<"u"?Blob:null,vT={isBrowser:!0,classes:{URLSearchParams:fT,FormData:pT,Blob:mT},protocols:["http","https","file","blob","url","data"]},Sd=typeof window<"u"&&typeof document<"u",oc=typeof navigator=="object"&&navigator||void 0,gT=Sd&&(!oc||["ReactNative","NativeScript","NS"].indexOf(oc.product)<0),yT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wT=Sd&&window.location.href||"http://localhost",_T=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sd,hasStandardBrowserEnv:gT,hasStandardBrowserWebWorkerEnv:yT,navigator:oc,origin:wT},Symbol.toStringTag,{value:"Module"})),De={..._T,...vT};function ST(e,t){return $o(e,new De.classes.URLSearchParams,{visitor:function(n,r,i,s){return De.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function bT(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ET(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Wg(e){function t(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&k.isArray(i)?i.length:a,l?(k.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!k.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],s)&&k.isArray(i[a])&&(i[a]=ET(i[a])),!o)}if(k.isFormData(e)&&k.isFunction(e.entries)){const n={};return k.forEachEntry(e,(r,i)=>{t(bT(r),i,n,0)}),n}return null}function kT(e,t,n){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xs={transitional:zg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=k.isObject(t);if(s&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return i?JSON.stringify(Wg(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ST(t,this.formSerializer).toString();if((o=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $o(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),kT(t)):t}],transformResponse:[function(t){const n=this.transitional||xs.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?F.from(o,F.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{xs.headers[e]={}});const xT=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TT=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&xT[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Kf=Symbol("internals");function vi(e){return e&&String(e).trim().toLowerCase()}function ga(e){return e===!1||e==null?e:k.isArray(e)?e.map(ga):String(e)}function OT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const CT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ll(e,t,n,r,i){if(k.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function RT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function jT(e,t){const n=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,a){return this[r].call(this,t,i,s,a)},configurable:!0})})}let Ye=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(o,l,u){const c=vi(l);if(!c)throw new Error("header name must be a non-empty string");const d=k.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=ga(o))}const a=(o,l)=>k.forEach(o,(u,c)=>s(u,c,l));if(k.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(k.isString(t)&&(t=t.trim())&&!CT(t))a(TT(t),n);else if(k.isObject(t)&&k.isIterable(t)){let o={},l,u;for(const c of t){if(!k.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?k.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(o,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=vi(t),t){const r=k.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return OT(i);if(k.isFunction(n))return n.call(this,i,r);if(k.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=vi(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ll(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(a){if(a=vi(a),a){const o=k.findKey(r,a);o&&(!n||Ll(r,r[o],o,n))&&(delete r[o],i=!0)}}return k.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Ll(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return k.forEach(this,(i,s)=>{const a=k.findKey(r,s);if(a){n[a]=ga(i),delete n[s];return}const o=t?RT(s):String(s).trim();o!==s&&delete n[s],n[o]=ga(i),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return k.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Kf]=this[Kf]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=vi(a);r[o]||(jT(i,a),r[o]=!0)}return k.isArray(t)?t.forEach(s):s(t),this}};Ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(Ye.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});k.freezeMethods(Ye);function $l(e,t){const n=this||xs,r=t||n,i=Ye.from(r.headers);let s=r.data;return k.forEach(e,function(o){s=o.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Vg(e){return!!(e&&e.__CANCEL__)}function ri(e,t,n){F.call(this,e??"canceled",F.ERR_CANCELED,t,n),this.name="CanceledError"}k.inherits(ri,F,{__CANCEL__:!0});function Hg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new F("Request failed with status code "+n.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PT(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[s];a||(a=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-a<t)return;const m=c&&u-c;return m?Math.round(h*1e3/m):void 0}}function AT(e,t){let n=0,r=1e3/t,i,s;const a=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?a(u,c):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const Za=(e,t,n=3)=>{let r=0;const i=PT(50,250);return AT(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),c=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},Gf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Jf=e=>(...t)=>k.asap(()=>e(...t)),DT=De.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,De.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(De.origin),De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent)):()=>!0,IT=De.hasStandardBrowserEnv?{write(e,t,n,r,i,s,a){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];k.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),k.isString(r)&&o.push(`path=${r}`),k.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),k.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function LT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $T(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qg(e,t,n){let r=!LT(t);return e&&(r||n==!1)?$T(e,t):t}const Yf=e=>e instanceof Ye?{...e}:e;function Yn(e,t){t=t||{};const n={};function r(u,c,d,h){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:h},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function i(u,c,d,h){if(k.isUndefined(c)){if(!k.isUndefined(u))return r(void 0,u,d,h)}else return r(u,c,d,h)}function s(u,c){if(!k.isUndefined(c))return r(void 0,c)}function a(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function o(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c,d)=>i(Yf(u),Yf(c),d,!0)};return k.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||i,h=d(e[c],t[c],c);k.isUndefined(h)&&d!==o||(n[c]=h)}),n}const Kg=e=>{const t=Yn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=Ye.from(a),t.url=Bg(qg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),k.isFormData(n)){if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(k.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&a.set(c,d)})}}if(De.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&DT(t.url))){const l=i&&s&&IT.read(s);l&&a.set(i,l)}return t},UT=typeof XMLHttpRequest<"u",MT=UT&&function(e){return new Promise(function(n,r){const i=Kg(e);let s=i.data;const a=Ye.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,d,h,m,f;function y(){m&&m(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function g(){if(!_)return;const w=Ye.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:w,config:e,request:_};Hg(function(b){n(b),y()},function(b){r(b),y()},T),_=null}"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(g)},_.onabort=function(){_&&(r(new F("Request aborted",F.ECONNABORTED,e,_)),_=null)},_.onerror=function(S){const T=S&&S.message?S.message:"Network Error",E=new F(T,F.ERR_NETWORK,e,_);E.event=S||null,r(E),_=null},_.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||zg;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new F(S,T.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,e,_)),_=null},s===void 0&&a.setContentType(null),"setRequestHeader"in _&&k.forEach(a.toJSON(),function(S,T){_.setRequestHeader(T,S)}),k.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),u&&([h,f]=Za(u,!0),_.addEventListener("progress",h)),l&&_.upload&&([d,m]=Za(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=w=>{_&&(r(!w||w.type?new ri(null,e,_):w),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=NT(i.url);if(v&&De.protocols.indexOf(v)===-1){r(new F("Unsupported protocol "+v+":",F.ERR_BAD_REQUEST,e));return}_.send(s||null)})},FT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;r.abort(c instanceof F?c:new ri(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,s(new F(`timeout ${t} of ms exceeded`,F.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>k.asap(o),l}},BT=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},zT=async function*(e,t){for await(const n of WT(e))yield*BT(n,t)},WT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Qf=(e,t,n,r)=>{const i=zT(e,t);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let d=c.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Xf=64*1024,{isFunction:ra}=k,VT=(({Request:e,Response:t})=>({Request:e,Response:t}))(k.global),{ReadableStream:Zf,TextEncoder:ep}=k.global,tp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},HT=e=>{e=k.merge.call({skipUndefined:!0},VT,e);const{fetch:t,Request:n,Response:r}=e,i=t?ra(t):typeof fetch=="function",s=ra(n),a=ra(r);if(!i)return!1;const o=i&&ra(Zf),l=i&&(typeof ep=="function"?(f=>y=>f.encode(y))(new ep):async f=>new Uint8Array(await new n(f).arrayBuffer())),u=s&&o&&tp(()=>{let f=!1;const y=new n(De.origin,{body:new Zf,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!y}),c=a&&o&&tp(()=>k.isReadableStream(new r("").body)),d={stream:c&&(f=>f.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!d[f]&&(d[f]=(y,_)=>{let g=y&&y[f];if(g)return g.call(y);throw new F(`Response type '${f}' is not supported`,F.ERR_NOT_SUPPORT,_)})});const h=async f=>{if(f==null)return 0;if(k.isBlob(f))return f.size;if(k.isSpecCompliantForm(f))return(await new n(De.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(k.isArrayBufferView(f)||k.isArrayBuffer(f))return f.byteLength;if(k.isURLSearchParams(f)&&(f=f+""),k.isString(f))return(await l(f)).byteLength},m=async(f,y)=>{const _=k.toFiniteNumber(f.getContentLength());return _??h(y)};return async f=>{let{url:y,method:_,data:g,signal:v,cancelToken:w,timeout:S,onDownloadProgress:T,onUploadProgress:E,responseType:b,headers:C,withCredentials:A="same-origin",fetchOptions:P}=Kg(f),G=t||fetch;b=b?(b+"").toLowerCase():"text";let ne=FT([v,w&&w.toAbortSignal()],S),be=null;const pe=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let Ot;try{if(E&&u&&_!=="get"&&_!=="head"&&(Ot=await m(C,g))!==0){let B=new n(y,{method:"POST",body:g,duplex:"half"}),H;if(k.isFormData(g)&&(H=B.headers.get("content-type"))&&C.setContentType(H),B.body){const[Fe,xe]=Gf(Ot,Za(Jf(E)));g=Qf(B.body,Xf,Fe,xe)}}k.isString(A)||(A=A?"include":"omit");const K=s&&"credentials"in n.prototype,Ct={...P,signal:ne,method:_.toUpperCase(),headers:C.normalize().toJSON(),body:g,duplex:"half",credentials:K?A:void 0};be=s&&new n(y,Ct);let j=await(s?G(be,P):G(y,Ct));const $=c&&(b==="stream"||b==="response");if(c&&(T||$&&pe)){const B={};["status","statusText","headers"].forEach(Rt=>{B[Rt]=j[Rt]});const H=k.toFiniteNumber(j.headers.get("content-length")),[Fe,xe]=T&&Gf(H,Za(Jf(T),!0))||[];j=new r(Qf(j.body,Xf,Fe,()=>{xe&&xe(),pe&&pe()}),B)}b=b||"text";let L=await d[k.findKey(d,b)||"text"](j,f);return!$&&pe&&pe(),await new Promise((B,H)=>{Hg(B,H,{data:L,headers:Ye.from(j.headers),status:j.status,statusText:j.statusText,config:f,request:be})})}catch(K){throw pe&&pe(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new F("Network Error",F.ERR_NETWORK,f,be),{cause:K.cause||K}):F.from(K,K&&K.code,f,be)}}},qT=new Map,Gg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a=s.length,o=a,l,u,c=qT;for(;o--;)l=s[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:HT(t)),c=u;return u};Gg();const bd={http:uT,xhr:MT,fetch:{get:Gg}};k.forEach(bd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const np=e=>`- ${e}`,KT=e=>k.isFunction(e)||e===null||e===!1;function GT(e,t){e=k.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){r=e[a];let o;if(i=r,!KT(r)&&(i=bd[(o=String(r)).toLowerCase()],i===void 0))throw new F(`Unknown adapter '${o}'`);if(i&&(k.isFunction(i)||(i=i.get(t))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(np).join(`
`):" "+np(a[0]):"as no adapter specified";throw new F("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Jg={getAdapter:GT,adapters:bd};function Ul(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ri(null,e)}function rp(e){return Ul(e),e.headers=Ye.from(e.headers),e.data=$l.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jg.getAdapter(e.adapter||xs.adapter,e)(e).then(function(r){return Ul(e),r.data=$l.call(e,e.transformResponse,r),r.headers=Ye.from(r.headers),r},function(r){return Vg(r)||(Ul(e),r&&r.response&&(r.response.data=$l.call(e,e.transformResponse,r.response),r.response.headers=Ye.from(r.response.headers))),Promise.reject(r)})}const Yg="1.13.2",Uo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ip={};Uo.transitional=function(t,n,r){function i(s,a){return"[Axios v"+Yg+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(t===!1)throw new F(i(a," has been removed"+(n?" in "+n:"")),F.ERR_DEPRECATED);return n&&!ip[a]&&(ip[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,o):!0}};Uo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function JT(e,t,n){if(typeof e!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new F("option "+s+" must be "+l,F.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new F("Unknown option "+s,F.ERR_BAD_OPTION)}}const ya={assertOptions:JT,validators:Uo},Dt=ya.validators;let Vn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qf,response:new qf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Yn(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ya.assertOptions(r,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),i!=null&&(k.isFunction(i)?n.paramsSerializer={serialize:i}:ya.assertOptions(i,{encode:Dt.function,serialize:Dt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ya.assertOptions(n,{baseUrl:Dt.spelling("baseURL"),withXsrfToken:Dt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&k.merge(s.common,s[n.method]);s&&k.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=Ye.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,h;if(!l){const f=[rp.bind(this),void 0];for(f.unshift(...o),f.push(...u),h=f.length,c=Promise.resolve(n);d<h;)c=c.then(f[d++],f[d++]);return c}h=o.length;let m=n;for(;d<h;){const f=o[d++],y=o[d++];try{m=f(m)}catch(_){y.call(this,_);break}}try{c=rp.call(this,m)}catch(f){return Promise.reject(f)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Yn(this.defaults,t);const n=qg(t.baseURL,t.url,t.allowAbsoluteUrls);return Bg(n,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){Vn.prototype[t]=function(n,r){return this.request(Yn(r||{},{method:t,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,o){return this.request(Yn(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Vn.prototype[t]=n(),Vn.prototype[t+"Form"]=n(!0)});let YT=class Qg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,o){r.reason||(r.reason=new ri(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qg(function(i){t=i}),cancel:t}}};function QT(e){return function(n){return e.apply(null,n)}}function XT(e){return k.isObject(e)&&e.isAxiosError===!0}const lc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lc).forEach(([e,t])=>{lc[t]=e});function Xg(e){const t=new Vn(e),n=Rg(Vn.prototype.request,t);return k.extend(n,Vn.prototype,t,{allOwnKeys:!0}),k.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Xg(Yn(e,i))},n}const he=Xg(xs);he.Axios=Vn;he.CanceledError=ri;he.CancelToken=YT;he.isCancel=Vg;he.VERSION=Yg;he.toFormData=$o;he.AxiosError=F;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=QT;he.isAxiosError=XT;he.mergeConfig=Yn;he.AxiosHeaders=Ye;he.formToJSON=e=>Wg(k.isHTMLForm(e)?new FormData(e):e);he.getAdapter=Jg.getAdapter;he.HttpStatusCode=lc;he.default=he;const{Axios:lO,AxiosError:uO,CanceledError:cO,isCancel:dO,CancelToken:hO,VERSION:fO,all:pO,Cancel:mO,isAxiosError:vO,spread:gO,toFormData:yO,AxiosHeaders:wO,HttpStatusCode:_O,formToJSON:SO,getAdapter:bO,mergeConfig:EO}=he;class ZT{constructor(){this.osrmBaseUrl="https://router.project-osrm.org/route/v1"}async calculateTravelTime(t,n,r,i,s="driving"){try{const a=`${this.osrmBaseUrl}/${s}/${n},${t};${i},${r}`,o={overview:!1,alternatives:!1,steps:!1},l=await he.get(a,{params:o});if(l.data.code==="Ok"&&l.data.routes.length>0){const u=l.data.routes[0],c=Math.ceil(u.duration/60),d=(u.distance/1e3).toFixed(1);return{durationMinutes:c,distance:u.distance,distanceKm:d,durationText:this.formatDuration(c),distanceText:`${d} km`,success:!0}}else return console.warn("OSRM : Pas de route trouve"),this.getFallbackEstimate(t,n,r,i)}catch(a){return console.error("Erreur OSRM:",a.message),this.getFallbackEstimate(t,n,r,i)}}async calculatePublicTransportTime(t,n,r,i){const s=await this.calculateTravelTime(t,n,r,i,"driving");if(s.success){const a=Math.ceil(s.durationMinutes*1.5);return{...s,durationMinutes:a,durationText:this.formatDuration(a),mode:"transit (estim)"}}return s}getFallbackEstimate(t,n,r,i){const s=this.calculateDistance(t,n,r,i),a=s.toFixed(1),o=Math.ceil(s/40*60);return{durationMinutes:o,distance:s*1e3,distanceKm:a,durationText:`${o} min (estim)`,distanceText:`${a} km`,success:!1,estimated:!0}}calculateDistance(t,n,r,i){const a=this.toRad(r-t),o=this.toRad(i-n),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.toRad(t))*Math.cos(this.toRad(r))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}toRad(t){return t*(Math.PI/180)}formatDuration(t){if(t<60)return`${t} min`;{const n=Math.floor(t/60),r=t%60;return r===0?`${n}h`:`${n}h${r}`}}async calculateTravelTimeWithBuffer(t,n,r,i,s=20){const a=await this.calculateTravelTime(t,n,r,i),o=Math.ceil(a.durationMinutes*(s/100)),l=a.durationMinutes+o;return{...a,durationMinutesWithBuffer:l,bufferMinutes:o,durationTextWithBuffer:this.formatDuration(l)}}async checkServiceAvailability(){try{return(await he.get(`${this.osrmBaseUrl}/driving/2.3522,48.8566;2.2945,48.8584`,{timeout:5e3})).data.code==="Ok"}catch(t){return console.error("OSRM non disponible:",t.message),!1}}}const Ml=new ZT;class eO{async findAvailableSlots(t,n,r="driving",i="driving",s=14){const a=se.getLocations(),o=a.find(y=>y.isHome),l=a.find(y=>y.id===t);if(!l)throw new Error("Lieu non trouv");if(!o)throw new Error('Veuillez dfinir un lieu comme domicile dans "Mes lieux"');const u=se.getSettings(),c=this.timeToMinutes(u.nightStartTime),d=this.timeToMinutes(u.nightEndTime),h=se.getRecurringSchedule(),m=[],f=new Date;f.setHours(0,0,0,0);for(let y=0;y<s;y++){const _=new Date(f);_.setDate(f.getDate()+y);const g=await this.findSlotsForDay(_,n,l,o,a,c,d,h,r,i);if(m.push(...g),m.length>=10)break}return m.slice(0,10)}async findSlotsForDay(t,n,r,i,s,a,o,l,u,c){const d=[],h=t.getDay(),m=t.toISOString().split("T")[0],f=se.getTasks(`${m}T00:00:00`,`${m}T23:59:59`),y=[];a>o?(y.push({start:0,end:o,location:i,type:"night",title:"Sommeil"}),y.push({start:a,end:24*60,location:i,type:"night",title:"Sommeil"})):y.push({start:a,end:o,location:i,type:"night",title:"Sommeil"});const _=l.filter(g=>g.dayOfWeek===h);for(const g of _){const v=s.find(w=>w.id===g.locationId)||i;y.push({start:this.timeToMinutes(g.startTime),end:this.timeToMinutes(g.endTime),location:v,type:"recurring",title:g.title})}for(const g of f){const v=new Date(g.startDatetime),w=new Date(g.endDatetime),S=s.find(T=>T.id===g.locationId)||i;y.push({start:v.getHours()*60+v.getMinutes(),end:w.getHours()*60+w.getMinutes(),location:S,type:"task",title:g.title})}y.sort((g,v)=>g.start-v.start);for(let g=0;g<y.length;g++){const v=y[g],w=y[g+1];if(!w){const C=1440-v.end;if(C>n){const A=await this.calculateTravel(v.location,r,u),P=await this.calculateTravel(r,i,c),G=A+n+P;if(C>=G){const ne=v.end+A,be=ne+n,pe=this.minutesToDate(t,ne),Ot=this.minutesToDate(t,be);pe>new Date&&d.push({id:`${t.getTime()}-${ne}`,startTime:pe,endTime:Ot,travelBefore:A,travelAfter:P,modeGo:this.getModeLabel(u),modeReturn:this.getModeLabel(c),previousActivity:v.title,nextActivity:"Retour domicile",date:t})}}continue}const S=w.start-v.end;if(S<=n)continue;const T=await this.calculateTravel(v.location,r,u),E=await this.calculateTravel(r,w.location,c),b=T+n+E;if(S>=b){const C=v.end+T,A=C+n,P=this.minutesToDate(t,C),G=this.minutesToDate(t,A);P>new Date&&d.push({id:`${t.getTime()}-${C}`,startTime:P,endTime:G,travelBefore:T,travelAfter:E,modeGo:this.getModeLabel(u),modeReturn:this.getModeLabel(c),previousActivity:v.title,nextActivity:w.title,date:t})}}return d}async calculateTravel(t,n,r="driving"){if(!t||!n)return 30;if(t.id===n.id)return 0;try{if(r==="transit"){const s=await Ml.calculateTravelTimeWithBuffer(t.latitude,t.longitude,n.latitude,n.longitude,15);return Math.ceil((s.durationMinutesWithBuffer||s.durationMinutes)*1.5)}const i=await Ml.calculateTravelTime(t.latitude,t.longitude,n.latitude,n.longitude,r);return Math.ceil(i.durationMinutes*1.15)}catch(i){console.error("Erreur calcul trajet:",i);const s=Ml.calculateDistance(t.latitude,t.longitude,n.latitude,n.longitude),o={walking:5,cycling:15,driving:40,transit:25}[r]||40;return Math.ceil(s/o*60)}}getModeLabel(t){return{walking:"  pied",cycling:" Vlo",driving:" Voiture",transit:" Transports en commun"}[t]||t}timeToMinutes(t){const[n,r]=t.split(":").map(Number);return n*60+r}minutesToDate(t,n){const r=new Date(t);return r.setHours(Math.floor(n/60),n%60,0,0),r}}const tO=new eO;function nO(){const[e,t]=x.useState([]),[n,r]=x.useState(null),[i,s]=x.useState(60),[a,o]=x.useState("driving"),[l,u]=x.useState("driving"),[c,d]=x.useState([]),[h,m]=x.useState(!1),[f,y]=x.useState(""),_=[{value:"walking",label:"  pied",speed:"~5 km/h"},{value:"cycling",label:" Vlo",speed:"~15 km/h"},{value:"driving",label:" Voiture",speed:"~40 km/h"},{value:"transit",label:" Transports en commun",speed:"~25 km/h"}];x.useEffect(()=>{const E=se.getLocations();t(E),E.length>0&&r(E[0].id)},[]);const g=async()=>{if(!n||!i){alert("Veuillez remplir tous les champs");return}if(!se.getLocations().find(b=>b.isHome)){y(" Veuillez d'abord dfinir un lieu comme domicile dans 'Mes lieux'");return}m(!0),y(""),d([]);try{const b=await tO.findAvailableSlots(n,i,a,l,14);b.length===0?y("Aucun crneau disponible trouv sur les 14 prochains jours. Essayez une dure plus courte ou changez les modes de transport."):d(b)}catch(b){console.error("Erreur recherche:",b),y(`Erreur : ${b.message}`)}finally{m(!1)}},v=E=>new Date(E).toLocaleString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=E=>new Date(E).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),S=E=>{const b=new Date(E),C=new Date,A=new Date(C);return A.setDate(A.getDate()+1),b.toDateString()===C.toDateString()?"Aujourd'hui":b.toDateString()===A.toDateString()?"Demain":b.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},T=E=>{const C={title:`RDV - ${e.find(A=>A.id===n).name}`,description:`Rendez-vous de ${i} minutes
Aller: ${E.modeGo}
Retour: ${E.modeReturn}`,startDatetime:E.startTime.toISOString(),endDatetime:E.endTime.toISOString(),locationId:n,allowNightHours:!1};se.addTask(C),alert(" Rendez-vous ajout au calendrier !"),d([])};return p.jsxs("div",{className:"find-slot-page",children:[p.jsx("h1",{children:" Trouver un crneau disponible"}),p.jsx("p",{className:"subtitle",children:"L'algorithme calcule les temps de trajet selon vos modes de transport choisis"}),p.jsxs("div",{className:"search-form card",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Lieu du rendez-vous *"}),p.jsx("select",{value:n,onChange:E=>r(parseInt(E.target.value)),disabled:e.length===0,children:e.map(E=>p.jsxs("option",{value:E.id,children:[E.name," ",E.isHome&&""]},E.id))}),e.length===0&&p.jsx("p",{className:"help-text",children:` Ajoutez d'abord des lieux dans "Mes lieux"`})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Dure du RDV (minutes) *"}),p.jsx("input",{type:"number",value:i,onChange:E=>s(parseInt(E.target.value)),min:"15",step:"15"})]}),p.jsxs("div",{className:"transport-modes-section",children:[p.jsx("h3",{style:{marginBottom:"1rem",fontSize:"1.1rem"},children:" Modes de transport"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Mode aller (vers le RDV)"}),p.jsx("select",{value:a,onChange:E=>o(E.target.value),children:_.map(E=>p.jsxs("option",{value:E.value,children:[E.label," - ",E.speed]},E.value))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Mode retour (aprs le RDV)"}),p.jsx("select",{value:l,onChange:E=>u(E.target.value),children:_.map(E=>p.jsxs("option",{value:E.value,children:[E.label," - ",E.speed]},E.value))})]})]}),p.jsx("p",{className:"help-text",children:" Vous pouvez choisir des modes diffrents pour l'aller et le retour"})]}),p.jsx("button",{onClick:g,className:"btn btn-primary btn-large",disabled:e.length===0||h,children:h?" Recherche en cours...":" Rechercher des crneaux"})]}),f&&p.jsx("div",{className:"card",style:{backgroundColor:"#FFEBEE",borderLeft:"4px solid #F44336"},children:p.jsx("p",{style:{color:"#C62828",margin:0},children:f})}),c.length>0&&p.jsxs("div",{className:"results",children:[p.jsxs("h2",{children:[" ",c.length," crneau",c.length>1?"x":""," disponible",c.length>1?"s":""]}),c.map(E=>p.jsxs("div",{className:"slot-card card",children:[p.jsxs("div",{className:"slot-info",children:[p.jsx("div",{className:"slot-date-badge",children:S(E.startTime)}),p.jsx("h3",{children:v(E.startTime)}),p.jsxs("div",{className:"activity-timeline",children:[p.jsxs("div",{className:"timeline-item",children:[p.jsx("span",{className:"timeline-icon",children:""}),p.jsxs("div",{children:[p.jsx("strong",{children:E.previousActivity}),p.jsxs("p",{className:"timeline-travel",children:[" ",E.modeGo," : ~",E.travelBefore," min"]})]})]}),p.jsxs("div",{className:"timeline-item timeline-rdv",children:[p.jsx("span",{className:"timeline-icon",children:""}),p.jsxs("div",{children:[p.jsx("strong",{children:"Rendez-vous"}),p.jsxs("p",{children:[w(E.startTime)," - ",w(E.endTime)," (",i," min)"]})]})]}),p.jsxs("div",{className:"timeline-item",children:[p.jsx("span",{className:"timeline-icon",children:""}),p.jsxs("div",{children:[p.jsxs("p",{className:"timeline-travel",children:[" ",E.modeReturn," : ~",E.travelAfter," min"]}),p.jsx("strong",{children:E.nextActivity})]})]})]}),p.jsxs("p",{className:"total-time",children:[" Temps total bloqu : ",i+E.travelBefore+E.travelAfter," minutes"]})]}),p.jsx("button",{onClick:()=>T(E),className:"btn btn-success",children:" Rserver ce crneau"})]},E.id))]}),!h&&c.length===0&&!f&&p.jsxs("div",{className:"empty-state card",children:[p.jsx("h3",{children:" Comment a marche ?"}),p.jsxs("ol",{style:{textAlign:"left",marginTop:"1rem"},children:[p.jsxs("li",{children:["Ajoutez vos lieux frquents dans ",p.jsx("strong",{children:'"Mes lieux"'})]}),p.jsx("li",{children:"Marquez un lieu comme domicile "}),p.jsxs("li",{children:["Configurez votre emploi du temps dans ",p.jsx("strong",{children:'"Emploi du temps"'})]}),p.jsx("li",{children:"Choisissez vos modes de transport (aller et retour)"}),p.jsx("li",{children:"L'algorithme trouve les meilleurs crneaux !"})]}),p.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"#E3F2FD",borderRadius:"8px"},children:[p.jsx("h4",{style:{marginBottom:"0.5rem",color:"#1976D2"},children:" Modes de transport disponibles"}),p.jsxs("ul",{style:{textAlign:"left",fontSize:"0.9rem",color:"#555",lineHeight:"1.8"},children:[p.jsxs("li",{children:[p.jsx("strong",{children:"  pied"})," - Pour les courtes distances (~5 km/h)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:" Vlo"})," - Rapide et cologique (~15 km/h)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:" Voiture"})," - Pour les longues distances (~40 km/h)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:" Transports en commun"})," - Estimation avec attente (~25 km/h)"]})]}),p.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.85rem",fontStyle:"italic"},children:" Astuce : Vous pouvez aller en vlo et revenir  pied, ou toute autre combinaison !"})]})]})]})}function rO(){const[e,t]=x.useState({nightStartTime:"21:00",nightEndTime:"06:00"});x.useEffect(()=>{const i=se.getSettings();t(i)},[]);const n=()=>{se.updateSettings(e),alert(" Paramtres enregistrs")},r=()=>{confirm(" Supprimer toutes les donnes ? Cette action est irrversible.")&&(localStorage.clear(),alert(" Toutes les donnes ont t supprimes"),window.location.reload())};return p.jsxs("div",{className:"settings-page",children:[p.jsx("h1",{children:" Paramtres"}),p.jsxs("div",{className:"settings-section card",children:[p.jsx("h2",{children:" Horaires de nuit"}),p.jsx("p",{className:"help-text",children:"Priode pendant laquelle vous n'tes pas disponible (sommeil)"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Dbut de nuit"}),p.jsx("input",{type:"time",value:e.nightStartTime,onChange:i=>t({...e,nightStartTime:i.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Fin de nuit"}),p.jsx("input",{type:"time",value:e.nightEndTime,onChange:i=>t({...e,nightEndTime:i.target.value})})]})]})]}),p.jsxs("div",{className:"settings-section card",children:[p.jsx("h2",{children:" Calcul des trajets"}),p.jsxs("div",{className:"info-box",children:[p.jsx("h4",{children:" Service gratuit activ"}),p.jsxs("p",{children:["Smart Calendar utilise ",p.jsx("strong",{children:"OSRM (OpenStreetMap)"})," pour calculer automatiquement les temps de trajet."]}),p.jsxs("ul",{style:{marginLeft:"20px",marginTop:"10px"},children:[p.jsx("li",{children:" 100% gratuit et illimit"}),p.jsx("li",{children:" Pas de cl API ncessaire"}),p.jsx("li",{children:" Donnes OpenStreetMap (excellente qualit)"}),p.jsx("li",{children:" Fonctionne immdiatement"})]})]})]}),p.jsx("div",{className:"settings-actions",children:p.jsx("button",{onClick:n,className:"btn btn-success btn-large",children:" Enregistrer les paramtres"})}),p.jsxs("div",{className:"danger-zone card",children:[p.jsx("h2",{children:" Zone dangereuse"}),p.jsx("p",{children:"Supprimer toutes vos donnes (lieux, tches, vnements, paramtres)"}),p.jsx("button",{onClick:r,className:"btn btn-danger",children:" Rinitialiser l'application"})]})]})}function iO(){var i;const{user:e,logout:t}=gs(),n=ms(),r=async()=>{try{await t(),n("/login")}catch(s){console.error("Erreur dconnexion:",s)}};return p.jsxs("nav",{className:"navbar",children:[p.jsx("div",{className:"navbar-brand",children:p.jsx("h2",{children:" SmartCalendar"})}),p.jsxs("div",{className:"navbar-menu",children:[p.jsx(nr,{to:"/dashboard",className:({isActive:s})=>s?"nav-active":"",children:" Accueil"}),p.jsx(nr,{to:"/calendar",className:({isActive:s})=>s?"nav-active":"",children:" Calendrier"}),p.jsx(nr,{to:"/find-slot",className:({isActive:s})=>s?"nav-active":"",children:" Crneaux"}),p.jsx(nr,{to:"/schedule",className:({isActive:s})=>s?"nav-active":"",children:" Planning"}),p.jsx(nr,{to:"/locations",className:({isActive:s})=>s?"nav-active":"",children:" Lieux"}),p.jsx(nr,{to:"/settings",className:({isActive:s})=>s?"nav-active":"",children:" Paramtres"})]}),p.jsxs("div",{className:"navbar-user",children:[p.jsxs("span",{children:[" ",((i=e==null?void 0:e.user_metadata)==null?void 0:i.username)||"Utilisateur"]}),p.jsx("button",{onClick:r,className:"btn btn-secondary btn-sm",children:" Dconnexion"})]})]})}function sO(){return p.jsx(bE,{children:p.jsx(B_,{children:p.jsxs(Qh,{children:[p.jsx(vt,{path:"/login",element:p.jsx(kE,{})}),p.jsx(vt,{path:"/signup",element:p.jsx(xE,{})}),p.jsx(vt,{path:"/*",element:p.jsx(EE,{children:p.jsxs("div",{className:"app",children:[p.jsx(iO,{}),p.jsx("div",{className:"main-content",children:p.jsxs(Qh,{children:[p.jsx(vt,{path:"/",element:p.jsx(Tv,{to:"/dashboard",replace:!0})}),p.jsx(vt,{path:"/dashboard",element:p.jsx(TE,{})}),p.jsx(vt,{path:"/calendar",element:p.jsx(Sx,{})}),p.jsx(vt,{path:"/locations",element:p.jsx(bx,{})}),p.jsx(vt,{path:"/schedule",element:p.jsx(Ex,{})}),p.jsx(vt,{path:"/find-slot",element:p.jsx(nO,{})}),p.jsx(vt,{path:"/settings",element:p.jsx(rO,{})})]})})]})})})]})})})}Fl.createRoot(document.getElementById("root")).render(p.jsx(I.StrictMode,{children:p.jsx(sO,{})}));
